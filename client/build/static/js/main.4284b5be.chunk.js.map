{"version":3,"sources":["components/dialogs/display.js","components/dialogs/singleInput.js","api.js","components/guid.js","components/context.js","components/encryption.js","routes/project.js","components/todo.js","components/dialogs/passwordDialog.js","components/dialogs/passwordDisplay.js","components/password.js","components/dialogs/timerDialog.js","components/timer.js","components/loading.js","components/dialogs/projectMenu.js","components/nav.js","routes/login.js","components/dialogs/encryptionDialog.js","routes/projectSettings.js","routes/timeOverview.js","routes/account.js","App.js","serviceWorker.js","index.js","styles.js","components/dialogs/confirmDialog.js","components/timerFormatting.js"],"names":["useStyles","makeStyles","theme","content","& h5","fontSize","lineHeight","FormDialog","props","classes","_React$useState","React","useState","_React$useState2","Object","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_0__","anchorEl","setAnchorEl","react__WEBPACK_IMPORTED_MODULE_1___default","a","createElement","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_4___default","fullWidth","maxWidth","open","onClose","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_7___default","title","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_6___default","className","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_5___default","hideContinue","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_3___default","onClick","onContinue","color","hideMenu","aria-owns","undefined","aria-haspopup","e","currentTarget","_material_ui_core_Menu__WEBPACK_IMPORTED_MODULE_9___default","id","_material_ui_core_MenuItem__WEBPACK_IMPORTED_MODULE_10___default","onEdit","onDelete","input","setInput","handleClose","submit","preventDefault","onSubmit","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_7___default","text","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_3___default","autoFocus","margin","label","value","onChange","target","type","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_2___default","variant","submitText","axios__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","__webpack_exports__","auth","signup","name","email","password","axios","post","login","changePassword","oldPassword","newPassword","user","fetch","get","performance","start","end","concat","project","fetchList","fetchSettings","create","remove","projectId","setEncryption","key","validateKey","hash","data","edit","delete","timer","todo","updateOrder","order","nav","window","navigator","screen","guid","mimeTypes","length","userAgent","replace","plugins","height","width","pixelDepth","init","token","localStorage","getItem","hasAuth","defaults","headers","common","authorization","context","createContext","Provider","Consumer","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","store","setStore","useEffect","setItem","set","obj","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_2___default","setUser","setDialog","Component","dialog","setProject","children","Store","CreateCipher","iv","crypto","randomBytes","cipher","createCipheriv","CreateDecipher","createDecipheriv","encrypt","encryption","useEncryption","_CreateCipher","Buffer","update","from","final","toString","decrypt","datBuf","slice","decipher","_unused","getHashGUID","_guid","createHash","digest","getSavedKeys","d","buf","JSON","parse","_unused2","removeItem","saveKey","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_1__","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","str","stringify","_CreateCipher2","removeKey","console","log","root","display","justifyContent","mixins","toolbar","minHeight","boxSizing","actionForm","alignItems","marginTop","actionDialog","padding","textAlign","& .action-dialog-input","actionButtons","position","bottom","right","fab","button&","EncryptionDialog","_ref","_useEncryption","_React$useState7","_React$useState8","_React$useState9","_React$useState10","error","setError","_React$useState11","_React$useState12","save","setSave","_React$useState13","_React$useState14","isLoading","setIsLoading","overrideKey","api","_id","then","res","catch","err","response","status","finally","_","_material_ui_core__WEBPACK_IMPORTED_MODULE_13__","_components_loading__WEBPACK_IMPORTED_MODULE_16__","Fragment","helperText","_material_ui_icons_LockOpen__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_core_FormControlLabel__WEBPACK_IMPORTED_MODULE_11___default","style","marginLeft","control","checked","c","App","useContext","useTheme","useMediaQuery","sm","breakpoints","down","md","setData","_React$useState3","_React$useState4","_React$useState5","_React$useState6","tab","setTab","projectName","isLocked","cipherKey","_components_todo__WEBPACK_IMPORTED_MODULE_4__","todos","_components_timer__WEBPACK_IMPORTED_MODULE_6__","timers","_components_password__WEBPACK_IMPORTED_MODULE_5__","passwords","disabled","aria-label","noteFab","_material_ui_icons_Notes__WEBPACK_IMPORTED_MODULE_8___default","_material_ui_icons_Timer__WEBPACK_IMPORTED_MODULE_10___default","_material_ui_icons_VpnKey__WEBPACK_IMPORTED_MODULE_9___default","fill","timeout","orderTimeout","_root","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_objectSpread__WEBPACK_IMPORTED_MODULE_3__","baseStyle","marginBottom","background","palette","default","sizing","flexFlow","overflowY","overflowX","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_2__","fullscreenTracker","top","left","zIndex","colums","alignContent","item","itemPaper","& .checkbox","paddingLeft","&:hover .actionBtn","& .actionBtn","cursor","&.br","&.tr","&.drag","& .mr","marginRight","&.shadow","& *","visibility","& h6","wordBreak","textarea","swapItems","arr","b","splice","queue","unload","TodoItem","lines","split","checkArray","i","l","FindPrefix","push","SetCheckbox","check","join","queueTodo","inEdit","index","btnProps","saveExit","selectEditItem","react__WEBPACK_IMPORTED_MODULE_4___default","ref","refs","col","colIndex","_material_ui_core__WEBPACK_IMPORTED_MODULE_5__","state","map","setCheck","todoIndex","FindPrefixAll","checkbox","todoLine","_material_ui_core_TextField__WEBPACK_IMPORTED_MODULE_10___default","multiline","_material_ui_icons_MoreHoriz__WEBPACK_IMPORTED_MODULE_13___default","showTodo","_material_ui_icons_Save__WEBPACK_IMPORTED_MODULE_11___default","_material_ui_icons_Edit__WEBPACK_IMPORTED_MODULE_7___default","_material_ui_icons_OpenWith__WEBPACK_IMPORTED_MODULE_12___default","onMouseDown","onDragStart","line","prefix","FindPrefixCheckState","regex","exec","enc","unsorted","checks","column","filter","before","forEach","x","findIndex","D_SnapDrev_Repositories_ExecLux_client_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_toConsumableArray__WEBPACK_IMPORTED_MODULE_1__","ConvertData","setTodos","oldTodoOrder","setOldTodoOrder","setEdit","drag","setDrag","Array","createRef","closeDialog","SendTodoOrder","useCallback","newTodoOrder","updatedTodoOrder","_loop","oldOrder","find","OrderChange","clearTimeout","setTimeout","SetTodoData","SaveExit","preIndex","newText","checkstate","SendQueue","q","f","arguments","some","DeleteTodo","firstLine","DisplayDialog","ConfirmDialog","onConfirm","clientX","y","clientY","todoCols","t","onMouseUp","onMouseMove","colArr","_refs$col$current$get","current","getBoundingClientRect","targetIndex","_refs$col$current$get2","newTodos","colCount","topBtnContent","size","_material_ui_icons_Add__WEBPACK_IMPORTED_MODULE_8___default","assign","overflow","GeneratePassword","usePlus","usePlus2","pool","poolSize","charAt","Math","floor","random","useStylesPopper","header","h6&","row","borderBottom","& b","letterSpacing","&.no-border","border","paddingBottom","slider","SaveFunction","GenraterPopover","generatePassword","slicedToArray","setLength","plus","setPlus","plus2","setPlus2","settings","atob","p","pp","btoa","react_default","Popper_default","placement","Paper_default","Typography_default","Slider_default","min","max","step","sliderValue","Checkbox_default","Button_default","setName","username","setUsername","setPassword","editMode","CreateNewPassword","close","EditPassword","Dialog_default","DialogTitle_default","DialogContent_default","DialogContentText_default","TextField_default","InputProps","endAdornment","InputAdornment_default","IconButton_default","aria-describedby","MoreHoriz_default","passwordDialog_GenraterPopover","pass","DialogActions_default","textField","& input","textShadow","primary","& input:foucs","outline","clipboarded","setClipboarded","usernameEl","useRef","passwordEl","copyToClipboard","select","document","execCommand","focus","inputRef","Menu_default","MenuItem_default","onEditPassword","objectSpread","defineProperty","addBtn","DecryptPasswordData","reverse","setPasswords","Promise","reject","_res$data","creater","created","toConsumableArray","ShowPassword","PasswordDisplay","PasswordDialog","DeletePassword","List_default","component","index_es","Add_default","infoHeader","Lock_default","ListItem_default","button","ListItemIcon_default","VpnKey_default","ListItemText_default","inset","textFields","& > div","num","interval","now","Date","formatTime","date","getHours","getMinutes","formatDate","getFullYear","getMonth","getDate","setDate","setStart","setEnd","_start$split","_start$split2","sH","sM","_end$split","_end$split2","eH","eM","s_d","Number","e_d","getTime","InputLabelProps","shrink","inputProps","paper","itemSecAction","spacing","unit","&.disabled p","activeTimer","div&","main","borderRadius","displayBottomBorder","h5&","GetTotalTime","s","TimersInitData","setTimers","setUpdate","StartTimer","m_name","EditTimer","hasActiveTimer","onShow","TimerDialog","DeleteTimer","ids","items","_FormatTime","FormatTime","time","secondary","ListItemSecondaryAction_default","Edit_default","Delete_default","TimerDisplay","_FormatTime2","totalTime","totalItems","timersSort","sort","min_timer","jsx","_ref2","FormatTimeStacked","Timer_default","clearInterval","setInterval","toISOString","Stop_default","SingleInput","PlayArrow_default","moment","duration","humanize","react__WEBPACK_IMPORTED_MODULE_0__","react__WEBPACK_IMPORTED_MODULE_0___default","_material_ui_styles__WEBPACK_IMPORTED_MODULE_1__","& .lds-ellipsis","short","ldsEllipsisColor","& div","Loading","link","textDecoration","projects","setProjects","addProjectDialogProps","doc","loading","Link","to","Domain_default","singleInput","AddCircle_default","grow","flexGrow","menuButton","up","projectSelecter","shape","backgroundColor","fade","white","&:hover","searchIcon","pointerEvents","inputRoot","inputInput","paddingTop","paddingRight","transition","transitions","sectionDesktop","sectionMobile","drawer","flexShrink","whiteSpace","drawerRoot","Nav","mobileMoreAnchorEl","setMobileMoreAnchorEl","isDrawerOpen","setIsDrawerOpen","isMenuOpen","Boolean","isMobileMenuOpen","handleProfileMenuOpen","event","handleMobileMenuClose","handleMenuClose","handleDrawerClose","renderMenu","anchorOrigin","vertical","horizontal","transformOrigin","renderMobileMenu","AccountCircle_default","AppBar_default","Toolbar_default","icons_Menu_default","noWrap","DialogProjectMenu","ArrowDropDown_default","MoreVert_default","Drawer_default","Divider_default","icon","ViewCarousel_default","SettingsApplications_default","Timeline_default","tabStyle","Login","setEmail","errors","setErrors","global","validate","keys","errorText","form","Signup","_React$useState15","_React$useState16","_React$useState17","_React$useState18","password2","setPassword2","_React$useState19","_React$useState20","_React$useState21","_React$useState22","Form","formIndex","setFormIndex","handleChange","zDepth","lib_default","onChangeIndex","login_Login","login_Signup","keySalt","input2","setInput2","Row","core_index_es","substring","projectSettings_Row","colors","highlightContent","highlight","& h3","& h4","fontWeight","chartPaper","chartSelect","TotalChartStyles","borderColor","hoverBackgroundColor","hoverBorderColor","borderWidth","labels","timespan","setTimespan","chart","setChart","times","charts","reduce","yAxisID","chartLine","pointBorderColor","pointBackgroundColor","pointHoverBackgroundColor","pointHoverBorderColor","maxDay","msFormat","ms","h","m","round","avg","timeUse","mostTime","count","formatedDate","subtract","format","msChartFormat","val","datasets","values","Select_default","es","options","responsive","tooltips","mode","elements","scales","xAxes","gridLines","yAxes","show","spaceBetween","ChangePassword","wasSuccessful","setSuccessful","setOldPassword","setNewPassword","newPassword2","setNewPassword2","gutterBottom","Account","userData","setUserData","forceUpdate","keyCount","account_ChangePassword","account_Row","createMuiTheme","typography","useNextVariants","Dialog","location","BrowserRouter","App_Dialog","Switch","Route","exact","path","Project","App_PrivateRoute","ProjectSettings","App_PublicRoute","PrivateRoute","rest","objectWithoutProperties","isAuthenticated","render","Redirect","PublicRoute","hostname","match","ReactDOM","src_App","getElementById","serviceWorker","ready","registration","unregister","& button","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_1__","_material_ui_core_Button__WEBPACK_IMPORTED_MODULE_1___default","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_2__","_material_ui_core_Dialog__WEBPACK_IMPORTED_MODULE_2___default","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_3__","_material_ui_core_DialogActions__WEBPACK_IMPORTED_MODULE_3___default","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_4__","_material_ui_core_DialogContent__WEBPACK_IMPORTED_MODULE_4___default","_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_5__","_material_ui_core_DialogContentText__WEBPACK_IMPORTED_MODULE_5___default","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_6__","_material_ui_core_DialogTitle__WEBPACK_IMPORTED_MODULE_6___default","confirm","moment__WEBPACK_IMPORTED_MODULE_0__","moment__WEBPACK_IMPORTED_MODULE_0___default","total","s_e","startFormat","dur"],"mappings":"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","file":"static/js/main.4284b5be.chunk.js","sourcesContent":["import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport { Typography } from '@material-ui/core';\r\nimport moment from 'moment';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport {FormatTime} from '../timerFormatting';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    content:{\r\n        '& h5':{\r\n            fontSize: 16,\r\n            lineHeight: 2\r\n        }\r\n    }\r\n}));\r\n\r\nfunction FormDialog(props) {\r\n    const classes = useStyles();\r\n    const [anchorEl,setAnchorEl] = React.useState(null);\r\n  \r\n    return (\r\n        <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={props.onClose}>\r\n            <DialogTitle>{props.title}</DialogTitle>\r\n            <DialogContent className={classes.content}>\r\n                {props.content}\r\n            </DialogContent>\r\n            <DialogActions>\r\n                {!props.hideContinue && <Button\r\n                 onClick={props.onContinue} color=\"secondary\"\r\n                >\r\n                    Continue\r\n                </Button>}\r\n                {!props.hideMenu && <Button\r\n                aria-owns={anchorEl ? 'display-option-menu' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={e=>setAnchorEl(e.currentTarget)} color=\"secondary\">\r\n                    Options\r\n                </Button>}\r\n                <Menu anchorEl={anchorEl} id=\"display-option-menu\" open={!!anchorEl} onClose={e=>setAnchorEl(null)}>\r\n                    <MenuItem onClick={props.onEdit}>Edit</MenuItem>\r\n                    <MenuItem onClick={props.onDelete}>Delete</MenuItem>\r\n                </Menu>\r\n                <Button onClick={props.onClose} color=\"primary\">\r\n                    Close\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nfunction FormDialog(props) {\r\n    const [input,setInput] = React.useState('');\r\n    \r\n    function handleClose() {\r\n        props.onClose();\r\n    }\r\n\r\n    const submit = e => {\r\n        e.preventDefault();\r\n        handleClose();\r\n        props.onSubmit(input);\r\n    }\r\n  \r\n    return (\r\n    <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={handleClose}>\r\n        <form onSubmit={submit}>\r\n            <DialogTitle>{props.title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {props.text}\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label={props.label}\r\n                    value={input}\r\n                    onChange={e => setInput(e.target.value)}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n                Cancel\r\n            </Button>\r\n                <Button onClick={submit} variant=\"contained\" color=\"primary\">\r\n                    {props.submitText}\r\n                </Button>\r\n            </DialogActions>\r\n        </form>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import axios from 'axios';\r\n\r\nexport default {\r\n    auth:{\r\n        signup: (name,email,password,) => axios.post('/api/auth/signup',{email,password,name}),\r\n        login: (email,password) => axios.post('/api/auth/login',{email,password}),\r\n        changePassword: (oldPassword, newPassword) => axios.post('/api/auth/change-password', {oldPassword,newPassword})\r\n    },\r\n    user: {\r\n        fetch: () => axios.get('/api/user'),\r\n        performance: (start,end) => axios.get(`/api/performance/${start}/${end}`)\r\n    },\r\n    project:{\r\n        fetch: id => axios.get(`/api/project/${id}`),\r\n        fetchList: () => axios.get('/api/project/fetch-list'),\r\n        fetchSettings: id => axios.get(`/api/project/settings/${id}`),\r\n        create: name => axios.post('/api/project/create',{name}),\r\n        remove: projectId => axios.post('/api/project/remove', {projectId}),\r\n        setEncryption: (key,projectId) => axios.post('/api/project/set-encryption',{key,projectId}),\r\n        validateKey: (hash,projectId) => axios.post('/api/project/validate',{hash,projectId}),\r\n    },\r\n    password:{\r\n        create: (data,projectId) => axios.post('/api/password/create',{data,projectId}),\r\n        edit: (id,data,projectId) => axios.post('/api/password/edit',{id,data,projectId}),\r\n        delete: (id,projectId) => axios.post('/api/password/remove',{id,projectId})\r\n    },\r\n    timer:{\r\n        start: (name,start,projectId) => axios.post('/api/timer/create',{name,start,projectId}),\r\n        end: (id,end,projectId) => axios.post('/api/timer/end',{id,end,projectId}),\r\n        create:(name,start,end,projectId) => axios.post('api/timer/create',{name,start,end,projectId}),\r\n        edit:(id,name,start,end,projectId) => axios.post('/api/timer/edit',{id,name,start,end,projectId}),\r\n        delete: (id,projectId) => axios.post('/api/timer/remove',{id,projectId})\r\n    },\r\n    todo:{\r\n        create: (projectId) => axios.post('/api/todo/create',{projectId}),\r\n        edit: (id,data,projectId) => axios.post('/api/todo/edit',{id,data,projectId}),\r\n        delete: (id,projectId) => axios.post('/api/todo/remove',{id,projectId}),\r\n        updateOrder:(projectId,order) => axios.post('/api/todo/order',{projectId,order})\r\n    }\r\n}","export default () => {\r\n\r\n    const nav = window.navigator;\r\n    const screen = window.screen;\r\n    let guid = nav.mimeTypes.length;\r\n    guid += nav.userAgent.replace(/\\D+/g, '');\r\n    guid += nav.plugins.length;\r\n    guid += screen.height || '';\r\n    guid += screen.width || '';\r\n    guid += screen.pixelDepth || '';\r\n\r\n    return guid;\r\n}","import React from 'react';\r\nimport axios from \"axios\";\r\n\r\nlet init = {};\r\nconst token = localStorage.getItem('token');\r\nif(token){\r\n    init.hasAuth = !!token;\r\n    axios.defaults.headers.common.authorization = `Bearer ${token}`;\r\n}\r\ninit.projectId = localStorage.getItem('selectedProject');\r\n\r\nconst context = React.createContext();\r\n\r\nexport const Consumer = context.Consumer;\r\n\r\nexport const Provider = props => {\r\n    const [store,setStore] = React.useState(init);\r\n\r\n    React.useEffect(()=>{\r\n        localStorage.setItem('selectedProject', store.projectId);\r\n    },[store.projectId]);\r\n\r\n    const set = obj => setStore({...store,...obj});\r\n    const setUser = token => {\r\n        set({hasAuth:!!token});\r\n        axios.defaults.headers.common.authorization = `Bearer ${token}`;\r\n        localStorage.setItem('token',token);\r\n    }\r\n    const setDialog = (Component, props) => {\r\n        set({dialog:{Component,props}});\r\n    }\r\n\r\n    const setProject = id => {\r\n        set({projectId:id});\r\n    }\r\n\r\n    return (\r\n        <context.Provider value={{...store, set, setUser, setDialog, setProject}}>\r\n            {props.children}\r\n        </context.Provider>\r\n    )\r\n}\r\n\r\nexport const Store = context;","import crypto from 'crypto';\r\nimport guid from './guid';\r\n\r\nconst ivLength = 16;\r\nconst algorithm = 'aes-256-cbc';\r\n\r\nconst GenerateIv = () => {\r\n    return crypto.randomBytes(ivLength);\r\n}\r\n\r\nconst CreateCipher = key => {\r\n    const iv =  GenerateIv();\r\n    const cipher = crypto.createCipheriv(algorithm, key, iv);\r\n    return {cipher, iv};\r\n}\r\n\r\nconst CreateDecipher = (key,iv) => {\r\n    const cipher = crypto.createDecipheriv(algorithm, key, iv);\r\n    return cipher;\r\n}\r\n\r\nexport const encrypt = (data,encryption) => {\r\n    if(!encryption.useEncryption) return data;\r\n    const {cipher,iv} = CreateCipher(encryption.key);\r\n    const enc = Buffer.concat([iv,cipher.update(Buffer.from(data)),cipher.final()]).toString('base64');\r\n    return enc;\r\n}\r\n\r\nexport const decrypt = (data,encryption) => {\r\n    if(!encryption.useEncryption) return data;\r\n    try{\r\n        const datBuf = Buffer.from(data,'base64');\r\n        const iv = datBuf.slice(0,16);\r\n        const decipher = CreateDecipher(encryption.key,iv);\r\n        const buf = Buffer.concat([decipher.update(datBuf.slice(16)),decipher.final()]);\r\n        return buf.toString('utf8');\r\n    }catch{\r\n        return data;\r\n    }\r\n}\r\n\r\nconst getHashGUID = () => {\r\n    const _guid = guid();\r\n    return crypto.createHash('sha256').update(_guid).digest();\r\n}\r\n\r\nexport const getSavedKeys = () => {\r\n    const d = localStorage.getItem('exec_save');\r\n    if(!d){\r\n        return {};\r\n    }\r\n    try{\r\n        const key = getHashGUID();\r\n        const datBuf = Buffer.from(d, 'base64');\r\n        const iv = datBuf.slice(0,16);\r\n        const decipher = CreateDecipher(key,iv);\r\n        const buf = Buffer.concat([decipher.update(datBuf.slice(16)),decipher.final()]);\r\n        return JSON.parse(buf.toString('utf8'));\r\n    }catch{\r\n        localStorage.removeItem('exec_save');\r\n        return {};\r\n    }\r\n}\r\n\r\nexport const saveKey = (id, value) => {\r\n    const key = getHashGUID();\r\n    const obj = {...getSavedKeys(),[id]:value};\r\n    const str = JSON.stringify(obj);\r\n    const {iv, cipher} = CreateCipher(key);\r\n    const buf = Buffer.concat([iv,cipher.update(Buffer.from(str)),cipher.final()]);\r\n    localStorage.setItem('exec_save',buf.toString('base64'));\r\n}\r\n\r\nexport const removeKey = id => {\r\n    saveKey(id,undefined);\r\n}\r\n","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport {Store} from '../components/context';\r\n\r\nimport Todo from '../components/todo';\r\nimport Password from '../components/password';\r\nimport Timer from '../components/timer';\r\n\r\nimport LockOpenIcon from '@material-ui/icons/LockOpen';\r\nimport NoteIcon from '@material-ui/icons/Notes';\r\nimport PasswordIcon from '@material-ui/icons/VpnKey';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\n\r\n\r\nimport api from '../api';\r\nimport { Typography, TextField, Paper, Button, Checkbox, Fab } from '@material-ui/core';\r\nimport crypto from 'crypto';\r\nimport {getSavedKeys,saveKey,removeKey} from '../components/encryption';\r\nimport Loading from '../components/loading';\r\nimport {unstable_useMediaQuery as useMediaQuery} from '@material-ui/core/useMediaQuery';\r\n\r\nconst keySalt = \"83zpN8nxTXGRWZ6r\";\r\nconst hashSalt = \"SD2Mt7wWxXuQucEg\";\r\n\r\nmakeStyles(console.log);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root:{\r\n        display: 'flex',\r\n        justifyContent: 'center',\r\n        height: `calc(100% - ${theme.mixins.toolbar.minHeight}px)`,\r\n        boxSizing: 'border-box'\r\n    },\r\n    actionForm:{\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        marginTop:-theme.mixins.toolbar.minHeight\r\n    },\r\n    actionDialog:{\r\n        padding:32,\r\n        textAlign:'center',\r\n        '& .action-dialog-input':{\r\n            margin:'12px 0 16px 0'\r\n        }\r\n    },\r\n    actionButtons:{\r\n        position: 'absolute',\r\n        bottom: 32,\r\n        right: 32,\r\n    },\r\n    fab:{\r\n        'button&':{\r\n            margin:'0 4px'\r\n        }\r\n    }\r\n}));\r\n\r\nconst App = props => {\r\n    const classes = useStyles();\r\n    const store = React.useContext(Store);\r\n    const theme = useTheme();\r\n    console.log(theme);\r\n\r\n    console.log(useMediaQuery);\r\n    const sm = useMediaQuery(theme.breakpoints.down('sm')); //false;// \r\n    const md = useMediaQuery(theme.breakpoints.down('md')) && !sm; //false // \r\n\r\n    const [data,setData] = React.useState(null);\r\n    const [encryption,setEncryption] = React.useState({});\r\n    const [tab,setTab] = React.useState('todo');\r\n\r\n    React.useEffect(() => {\r\n        setData(null);\r\n        setEncryption({});\r\n        api.project.fetch(store.projectId).then(res => {\r\n            const {data} = res;\r\n            const {project} = data;\r\n            setData(data);\r\n            store.set({projectName:project.name});\r\n            setEncryption({isLocked: !!project.cipherKey, useEncryption: false, cipher: project.cipherKey && Buffer.from(project.cipherKey.data), key: null});\r\n        })\r\n    },[store.projectId]);\r\n\r\n    React.useEffect(() => {\r\n        console.log(encryption);\r\n    },[encryption]);\r\n\r\n    if(!data || !encryption){\r\n        return(\r\n            <Loading fill/>\r\n        )\r\n    }\r\n\r\n    if(encryption.isLocked){\r\n        return <EncryptionDialog classes={classes} useEncryption={[encryption,setEncryption]} data={data} />;\r\n    }\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n\r\n            {(!sm || tab === 'todo') && <Todo data={data.todos} encryption={encryption} />}\r\n            {((!sm && !md) || tab === 'timer' || (md && tab === 'todo')) && <Timer data={data.timers} encryption={encryption} />}\r\n            {((!sm && !md) || tab === 'password') && <Password data={data.passwords} encryption={encryption} />}\r\n\r\n            {(sm || md) && <div className={classes.actionButtons}>\r\n                {sm && <Fab color=\"primary\" disabled={tab === 'todo'} aria-label=\"note\" className={`${classes.fab} ${classes.noteFab}`} onClick={_=>setTab('todo')}>\r\n                    <NoteIcon />\r\n                </Fab>}\r\n                <Fab color=\"primary\" disabled={tab === 'timer'} aria-label=\"timer\" className={classes.fab} onClick={_=>setTab('timer')}>\r\n                    <TimerIcon />\r\n                </Fab> \r\n                <Fab color=\"primary\" disabled={tab === 'password'} aria-label=\"password\" className={classes.fab} onClick={_=>setTab('password')}>\r\n                    <PasswordIcon />\r\n                </Fab>\r\n            </div>}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst EncryptionDialog = ({classes, useEncryption,data}) => {\r\n    const [encryption,setEncryption] = useEncryption;\r\n    const [input,setInput] = React.useState('');\r\n    const [error,setError] = React.useState();\r\n    const [save,setSave] = React.useState(false);\r\n    const [isLoading,setIsLoading] = React.useState(false);\r\n\r\n    const submit = (e,overrideKey) => {\r\n        if(e) e.preventDefault();\r\n        const key = overrideKey || crypto.createHash('sha256').update(keySalt+input).digest('hex');\r\n        const hash = crypto.createHash('sha256').update(hashSalt+key).digest('hex');\r\n\r\n        setIsLoading(true);\r\n        api.project.validateKey(hash,data.project._id).then(res => {\r\n            if(res.data === 'match'){\r\n                if(save && !overrideKey){\r\n                    console.log(data.project._id,key);\r\n                    saveKey(data.project._id,key);\r\n                }\r\n                setEncryption({\r\n                    useEncryption: true,\r\n                    key: Buffer.from(key,'hex')\r\n                });\r\n            }\r\n        }).catch(err => {\r\n            if(err.response){\r\n                if(err.response.status === 400){\r\n                    removeKey(data.project.id);\r\n                }\r\n                setError(err.response.data);\r\n                \r\n            }else{\r\n                setError('An error occurred');\r\n            }\r\n        }).finally(_=>{\r\n            setIsLoading(false);\r\n        })\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        const obj = getSavedKeys();\r\n        const key = obj[data.project._id];\r\n        if(key) submit(null,key);\r\n    },[]);\r\n    \r\n    return(\r\n        <div className={classes.root}>\r\n            <form onSubmit={submit} className={classes.actionForm}>\r\n                <Paper className={classes.actionDialog}>\r\n                        <Typography variant=\"h6\">Project is encrypted</Typography>\r\n                        <Typography variant=\"subtitle1\">Unlock the project with the encryption phrase</Typography>\r\n                        {isLoading && <Loading />}\r\n                        {!isLoading && <>\r\n                        <TextField\r\n                            autoFocus\r\n                            className=\"action-dialog-input\"\r\n                            label=\"Phrase\"\r\n                            type=\"password\"\r\n                            value={input}\r\n                            error={!!error}\r\n                            helperText={error}\r\n                            onChange={e=>setInput(e.target.value)}\r\n                            fullWidth />\r\n                        <Button variant=\"contained\" color=\"primary\" onClick={submit}><LockOpenIcon />Decrypt</Button>\r\n                        <FormControlLabel style={{marginLeft:'auto'}} control={\r\n                            <Checkbox checked={save} onChange={(e,c)=>setSave(c)}/>\r\n                        } label='Save' />\r\n                        </>}\r\n                </Paper>\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { Paper, Typography, Checkbox, Button } from '@material-ui/core';\r\nimport { makeStyles, useTheme  } from '@material-ui/styles';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport baseStyle from '../styles';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport SaveIcon from '@material-ui/icons/Save';\r\nimport MoveIcon from '@material-ui/icons/OpenWith';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\n\r\nimport DisplayDialog from './dialogs/display';\r\nimport ConfirmDialog from './dialogs/confirmDialog';\r\n\r\nimport { Store } from '../components/context';\r\n\r\nimport api from '../api';\r\nimport { decrypt, encrypt } from './encryption';\r\n\r\nconst nav = window.navigator;\r\nconsole.log(nav);\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n   ...baseStyle(theme),\r\n   root: {\r\n      width: '50%',\r\n      margin: 8,\r\n      marginBottom: 0,\r\n      background: theme.palette.background.default,\r\n      maxWidth: (theme.props.sizing * 2 + 17),\r\n      flexFlow: 'column',\r\n      display: 'flex',\r\n      overflowY: 'auto',\r\n      overflowX: 'hidden',\r\n      [theme.breakpoints.down('md')]:{\r\n         width: '66.66%',\r\n      },\r\n      [theme.breakpoints.down('sm')]:{\r\n         width:'100%',\r\n     },\r\n     \r\n   },\r\n   fullscreenTracker:{\r\n      position:'fixed',\r\n      top:0,\r\n      right:0,\r\n      bottom:0,\r\n      left:0,\r\n      zIndex:500,\r\n   },\r\n   colums:{\r\n      height: '100%',\r\n      display:'flex',\r\n   },\r\n   content: {\r\n      display: 'flex',\r\n      alignContent: 'flex-start',\r\n      flexFlow: 'column',\r\n      width:'50%',\r\n      height: '100%',\r\n   },\r\n   item: {\r\n      maxWidth: theme.props.sizing,\r\n      width: '100%',\r\n      boxSizing: 'border-box',\r\n   },\r\n   itemPaper: {\r\n      position: 'relative',\r\n      margin: 8,\r\n      minHeight: 34,\r\n      padding: \"8px 16px\",\r\n      '& .checkbox': {\r\n         padding: 6,\r\n         paddingLeft: 0\r\n      },\r\n      '&:hover .actionBtn': {\r\n         display: 'block'\r\n      },\r\n      '& .actionBtn': {\r\n         display: 'none',\r\n         fontSize: 21,\r\n         position: 'absolute',\r\n         cursor: 'pointer',\r\n         '&.br':{\r\n            bottom: 4,\r\n            right: 4,\r\n         },\r\n         '&.tr':{\r\n            top: 4,\r\n            right: 4,\r\n         },\r\n         '&.drag':{\r\n            cursor:'move'\r\n         },\r\n         '& .mr':{\r\n            marginRight:8\r\n         }\r\n      },\r\n      '&.shadow':{\r\n         background:'#ccc',\r\n         '& *':{\r\n            visibility: 'hidden'\r\n         }\r\n      },\r\n      '& h6':{\r\n         wordBreak: 'break-word'\r\n      }\r\n   },\r\n   textarea:{  \r\n      lineHeight: 1.5,\r\n      width:'100%'\r\n   }\r\n}));\r\n\r\n// todo:\r\n// {text,checks:[true,false]}\r\n\r\nconst colCount = 2;\r\n\r\n\r\nconst ConvertData = (d,enc) => {\r\n   let arr = [];\r\n\r\n   let unsorted = d.map(e => {\r\n      return{\r\n         ...e,\r\n         text: decrypt(e.data,enc) || '',\r\n         checks:[],\r\n         col: e.column || 0,\r\n      }\r\n   })\r\n\r\n   unsorted.filter(e=>e.before == null).forEach(e => {\r\n\r\n      let item = e;\r\n      for (let i = 0; i < unsorted.length; i++) {\r\n         arr.push(item);\r\n         unsorted = unsorted.filter(x=>x !== item);\r\n\r\n         const index = unsorted.findIndex(x => item._id === x.before);\r\n         item = unsorted[index];\r\n         if(item === undefined) break;\r\n      }\r\n   })\r\n\r\n   return [...arr,...unsorted];  \r\n} \r\n\r\nconst swapItems = (arr,a, b) =>{\r\n   arr[a] = arr.splice(b, 1, arr[a])[0];\r\n   return arr;\r\n}\r\n\r\nlet timeout, queue = [], orderTimeout, unload = [];\r\nconst App = props => {\r\n   const classes = useStyles();\r\n   const theme = useTheme();\r\n   const store = React.useContext(Store);\r\n   const {data,encryption} = props;\r\n\r\n   const [todos, setTodos] = React.useState(()=>ConvertData(data, encryption));\r\n\r\n   const [oldTodoOrder,setOldTodoOrder] = React.useState(()=>todos.map(e=>{\r\n      return {\r\n         id:e._id,\r\n         column:e.column,\r\n         before:e.before\r\n      }\r\n   }));\r\n\r\n   const [edit, setEdit] = React.useState({});\r\n   const [drag, setDrag] = React.useState({});\r\n\r\n   const refs = [\r\n                  Array.from(\r\n                     { length: todos.filter(x => x.col === 0).length },\r\n                     () => React.createRef()\r\n                  ),\r\n                  Array.from(\r\n                     { length: todos.filter(x => x.col === 1).length },\r\n                     () => React.createRef()\r\n                  )\r\n               ]\r\n\r\n   // const refs = React.useMemo(() =>{\r\n\r\n      \r\n   //    return [\r\n   //       Array.from(\r\n   //          { length: todos.filter(x => x.col === 0).length },\r\n   //          () => React.createRef()\r\n   //       ),\r\n   //       Array.from(\r\n   //          { length: todos.filter(x => x.col === 1).length },\r\n   //          () => React.createRef()\r\n   //       )\r\n   //    ]\r\n   //    }\r\n   // )\r\n\r\n   // const h = refs.reduce((a,b) => {\r\n   //    if(!b.current) return a;\r\n   //    return b.current.getBoundingClientRect().height + a;\r\n   // }, 0);\r\n   // console.log('height: ' + h);   \r\n   \r\n   const closeDialog = e => {\r\n      store.setDialog();\r\n   }\r\n\r\n\r\n\r\n   const SendTodoOrder = React.useCallback(_ => {\r\n\r\n      let newTodoOrder = oldTodoOrder;\r\n      let updatedTodoOrder = [];\r\n\r\n      [todos.filter(e=>e.col === 0),todos.filter(e=>e.col === 1)].forEach(arr => {\r\n\r\n         for (let i = 0; i < arr.length; i++) {\r\n            const c = arr[i];\r\n            const before = i > 0 ? arr[i - 1] : null;\r\n            const oldOrder = oldTodoOrder.find(x=>x.id === c._id);\r\n\r\n            if(oldOrder.before == (before && before._id) && oldOrder.column === c.col) continue;\r\n            \r\n            const obj = {\r\n               id:c._id,\r\n               column: c.col,\r\n               before: before && before._id\r\n            }\r\n            \r\n            updatedTodoOrder.push(obj);\r\n            \r\n            newTodoOrder = newTodoOrder.map(e => {\r\n               if(e.id !== c._id) return e;\r\n               return obj;\r\n            })\r\n         }\r\n      })\r\n\r\n      if(updatedTodoOrder.length === 0) return;\r\n\r\n      console.log({updatedTodoOrder});\r\n\r\n      //TODO submit updatedTodoOrder to server/db\r\n      api.todo.updateOrder(store.projectId, updatedTodoOrder).then(res => {\r\n         setOldTodoOrder(newTodoOrder);\r\n      });\r\n   },[oldTodoOrder,store.projectId,todos])\r\n\r\n   const OrderChange = _ => {\r\n      if(orderTimeout) clearTimeout(orderTimeout);\r\n      orderTimeout = setTimeout(SendTodoOrder, 2000);\r\n   }\r\n   \r\n\r\n   const SetTodoData = (id,data) => {\r\n      setTodos(todos.map(e => {\r\n         if(id !== e._id) return e;\r\n         return {\r\n            ...e,\r\n            text: data\r\n         }\r\n      }));\r\n   }\r\n\r\n   const SaveExit = () => {\r\n      if(!edit) return;\r\n      \r\n      const {index,text} = edit;\r\n      let lines = text.split('\\n');\r\n      for (let i = 0; i < lines.length; i++) {\r\n         const l = lines[i];\r\n         const preIndex = FindPrefix(l);\r\n         if(preIndex === 0) continue;\r\n         lines[i] = '\\\\u ' + l.slice(preIndex);\r\n      }\r\n      const newText = lines.join('\\n');\r\n      const {_id} = todos[index];\r\n      SetTodoData(_id,newText);\r\n      \r\n      queueTodo(_id,newText);\r\n\r\n      selectEditItem(-1);\r\n   }\r\n\r\n   const selectEditItem = i => {\r\n      if(i === -1){\r\n         return setEdit({});\r\n      }\r\n\r\n      const { text } = todos[i];\r\n      let arr = [];\r\n\r\n      const lines = text.split('\\n');\r\n      for (let i = 0; i < lines.length; i++) {\r\n         const l = lines[i];\r\n\r\n         const checkstate = FindPrefixCheckState(l);\r\n\r\n         if(checkstate === null) {\r\n            arr[i] = l;\r\n            continue;\r\n         }\r\n         arr[i] = `\\\\${checkstate ? 'c' : 'u'} ${l.slice(3)}`;\r\n      }\r\n\r\n      setEdit({\r\n         index: i,\r\n         text: arr.join('\\n')\r\n      })\r\n   }\r\n\r\n   const AddTodo = () => {\r\n      api.todo.create(store.projectId).then(({data}) => {\r\n         \r\n         setTodos([{\r\n            ...data,\r\n            col: 0,\r\n            text:'',\r\n            checks:[]\r\n         },...todos]);\r\n         \r\n         OrderChange();\r\n      })\r\n   }\r\n\r\n   const SendQueue = React.useCallback(() => {\r\n\r\n      console.log('SendQueue');\r\n      for (let i = 0; i < queue.length; i++) {\r\n         const q = queue[i];\r\n         api.todo.edit(q.id,encrypt(q.data, encryption), store.projectId).then(res => {\r\n   \r\n         });\r\n      }\r\n      queue = [];\r\n   },[encryption,store.projectId])\r\n\r\n   React.useEffect(() => {\r\n\r\n      unload = [\r\n         SendQueue,\r\n         SendTodoOrder\r\n      ];\r\n\r\n   }, [SendQueue,SendTodoOrder]);\r\n\r\n   React.useEffect(()=>{\r\n      unload = [];\r\n      return () => {\r\n         console.log('unload call');\r\n         unload.forEach(f => {\r\n            if(f) f();\r\n         })\r\n      }\r\n   },[])\r\n\r\n\r\n   const queueTodo = (id,data,set = false) => {\r\n      if(timeout) clearTimeout(timeout);\r\n      if(!queue.some(e => e.id === id)) queue.push({id,data});\r\n      timeout = setTimeout(SendQueue, 3000);\r\n      if(set) SetTodoData(id,data);\r\n   }\r\n\r\n   const showTodo = item => e => {\r\n      const DeleteTodo = () => {\r\n         return api.todo.delete(item._id, store.projectId).then(res => {\r\n            setTodos(todos.filter(e => e._id !== item._id));\r\n            closeDialog();\r\n            OrderChange();\r\n         });\r\n      }\r\n\r\n      const onDelete = () => {\r\n         store.setDialog(ConfirmDialog,{title:'Delete todo',text:'Are you sure you want to delete this todo?',onClose:closeDialog,submitText:\"delete\",onConfirm:DeleteTodo});\r\n      }\r\n\r\n      const onEdit = () => {\r\n         selectEditItem(todos.findIndex(e => e === item));\r\n         closeDialog();\r\n      }\r\n\r\n      const content = (\r\n         <>\r\n            <Typography variant=\"h5\">Creater: null</Typography>\r\n            <Typography variant=\"h5\">Created: invalid date</Typography>\r\n         </>\r\n      )\r\n\r\n      const firstLine = item.text.split('\\n')[0];\r\n      const preIndex = FindPrefixAll(firstLine);\r\n      const title = firstLine.slice(preIndex);\r\n      store.setDialog(DisplayDialog,{title,content,onClose: closeDialog,onDelete,onEdit})\r\n   }\r\n\r\n   // console.log(drag);\r\n\r\n   const onMouseMove = e => {\r\n\r\n      setDrag({\r\n         ...drag, \r\n         x:e.clientX-377,\r\n         y:e.clientY-22\r\n      })\r\n\r\n      const index = todos.findIndex(x => x._id === drag.id);\r\n      const item = todos[index];\r\n      const col = item.col;\r\n      const colArr = todos.filter(e => e.col === col);\r\n      const colIndex = colArr.findIndex(e => e._id === drag.id);\r\n\r\n\r\n      if(colIndex > 0) {\r\n         const {height, top} = refs[col][colIndex - 1].current.getBoundingClientRect();\r\n\r\n         if((height / 2) + top > e.clientY){\r\n\r\n            const targetIndex = todos.findIndex(e=>e._id === colArr[colIndex - 1]._id);\r\n            setTodos(swapItems(todos,targetIndex,index));\r\n            OrderChange();\r\n         }\r\n      }\r\n\r\n      if(colIndex < colArr.length - 1){\r\n         const {height, top} = refs[col][colIndex + 1].current.getBoundingClientRect();\r\n\r\n         if((height / 2) + top < e.clientY){\r\n\r\n            const targetIndex = todos.findIndex(e=>e._id === colArr[colIndex + 1]._id);\r\n            setTodos(swapItems(todos,index,targetIndex));\r\n            OrderChange();\r\n         }\r\n      }\r\n\r\n      if(col > 0){\r\n         const {left} = refs[col][colIndex].current.getBoundingClientRect();\r\n         // console.log(left - (theme.props.sizing / 2), left, e.clientX);\r\n         if(left > e.clientX){\r\n\r\n            const newTodos = todos.map((e) => {\r\n               if(e._id !== item._id) return e;\r\n               return {\r\n                  ...e,\r\n                  col: col - 1\r\n               }\r\n            })\r\n\r\n            setTodos(newTodos);\r\n            OrderChange();\r\n         }\r\n      }\r\n\r\n      if(col < colCount - 1){\r\n         const {left} = refs[col][colIndex].current.getBoundingClientRect();\r\n         if(left + theme.props.sizing < e.clientX){\r\n\r\n            const newTodos = todos.map((e) => {\r\n               if(e._id !== item._id) return e;\r\n               return {\r\n                  ...e,\r\n                  col: col + 1\r\n               }\r\n            })\r\n\r\n            setTodos(newTodos);\r\n            OrderChange();\r\n         }\r\n      }\r\n\r\n      // console.log({index,item,colArr,colIndex});\r\n   }\r\n\r\n   const onDragStart = props => e => {\r\n      setDrag({\r\n         ...drag,\r\n         id:props.todo._id,\r\n         props,\r\n         x:e.clientX-377,\r\n         y:e.clientY-22\r\n      });\r\n   }\r\n   \r\n   const onDragEnd = e => {\r\n      setDrag({});\r\n   }\r\n\r\n   if(todos == null) return null;\r\n\r\n   let todoCols = [[],[]];\r\n   for (let i = 0; i < todos.length; i++) {\r\n      const t = todos[i];\r\n      todoCols[t.col].push(t);\r\n   }\r\n\r\n   return (\r\n      <div className={classes.root}>\r\n         {drag.props && <div className={classes.fullscreenTracker} onMouseUp={onDragEnd} onMouseMove={onMouseMove}  />}\r\n         <div className={classes.topBtnContent}>\r\n            <Button\r\n               size=\"small\"\r\n               variant=\"contained\"\r\n               color=\"primary\"\r\n               onClick={AddTodo}\r\n            ><AddIcon />Add note</Button>\r\n         </div>\r\n         <div className={classes.colums}>\r\n            <div className={classes.content}>\r\n\r\n               {todoCols[0].map((e,i)=>\r\n                  <TodoItem\r\n                     refs={refs}\r\n                     saveExit={SaveExit}\r\n                     index={todos.findIndex(x=>x._id===e._id)}\r\n                     colIndex={i}\r\n                     edit={{...edit, set: (str) => setEdit({...edit, text:str}) }}\r\n                     showTodo={showTodo}\r\n                     queueTodo={queueTodo}\r\n                     selectEditItem={selectEditItem}\r\n                     onDragStart={onDragStart}\r\n                     key={e._id}\r\n                     classes={classes}\r\n                     state={drag.id === e._id && 'shadow'}\r\n                     todo={e}\r\n                     />)}\r\n\r\n            </div>\r\n            <div className={classes.content}>\r\n\r\n               {todoCols[1].map((e,i)=>\r\n                  <TodoItem\r\n                     refs={refs}\r\n                     saveExit={SaveExit}\r\n                     index={todos.findIndex(x=>x._id===e._id)}\r\n                     colIndex={i}\r\n                     edit={{...edit, set: (str) => setEdit({...edit, text:str}) }}\r\n                     showTodo={showTodo}\r\n                     queueTodo={queueTodo}\r\n                     selectEditItem={selectEditItem}\r\n                     onDragStart={onDragStart}\r\n                     key={e._id}\r\n                     classes={classes}\r\n                     state={drag.id === e._id && 'shadow'}\r\n                     todo={e}\r\n                     />)}\r\n\r\n            </div>\r\n         </div>\r\n\r\n         {drag.props && <TodoItem state='ghost' style={{overflow:'hidden',position:'absolute',top:drag.y,left:drag.x}} {...drag.props} />}\r\n      </div>\r\n   )\r\n}\r\n\r\nconst todoLine = (e, i, checked, classes, setCheck) => {\r\n\r\n   const todoIndex = FindPrefixAll(e);\r\n   \r\n   return (\r\n      <Typography key={i} style={i === 0 ? {fontSize: '1.15rem'} : {minHeight:21}} variant={i === 0 ? 'h6' : 'subtitle2'}>\r\n         {todoIndex !== 0 && <Checkbox checked={checked} onChange={setCheck(i)} classes={{ root: 'checkbox' }} className={classes.checkbox} />}\r\n         {e.slice(todoIndex)}\r\n      </Typography>\r\n   )\r\n}\r\n\r\nconst TodoItem = props => {\r\n   \r\n   const { todo, classes } = props;\r\n   const { _id, text } = todo;\r\n\r\n   let lines = text.split('\\n');\r\n\r\n   let checkArray = [];\r\n   for (let i = 0; i < lines.length; i++) {\r\n      const l = lines[i];\r\n      if(FindPrefix(l) === 0) {\r\n\r\n         if(l.slice(0,2) === '\\\\u'){\r\n            checkArray[i] = false;\r\n         } else if (l.slice(0,2) === '\\\\c'){\r\n            checkArray[i] = true;\r\n         }\r\n\r\n         checkArray.push(null);\r\n         continue;\r\n      }\r\n      checkArray[i] = false;\r\n   }\r\n\r\n   const SetCheckbox = i => (e,check) => {\r\n      lines[i] = (check ? '\\\\c ' : '\\\\u ') + lines[i].slice(3);\r\n      const data = lines.join('\\n'); \r\n      props.queueTodo(_id,data,true); \r\n   }\r\n\r\n\r\n   const inEdit = props.edit.index === props.index;\r\n   const btnProps = {fontSize:'inherit', onClick: e => inEdit ? props.saveExit() : props.selectEditItem(props.index)};\r\n\r\n   return (\r\n      <div className={classes.item} style={props.style} ref={props.refs[props.todo.col][props.colIndex]}>\r\n         <Paper className={classes.itemPaper + ' ' + props.state}>\r\n            {!inEdit && lines.length > 0 && lines.map((e, i) => todoLine(e, i, checkArray[i], classes,SetCheckbox))}\r\n            {inEdit && <TextField multiline autoFocus className={classes.textarea} value={props.edit.text} onChange={e => props.edit.set(e.target.value) }/>}\r\n            {!props.state && <div className='actionBtn br'>\r\n               {!inEdit && <MoreHorizIcon className='mr' fontSize='inherit' onClick={props.showTodo(todo)}  />}\r\n               {inEdit ? <SaveIcon {...btnProps} /> : <EditIcon {...btnProps} />}\r\n            </div>}\r\n            {!inEdit && <MoveIcon className='actionBtn tr drag' onMouseDown={props.onDragStart(props)} />}\r\n         </Paper>\r\n      </div>\r\n   )\r\n}\r\n\r\nconst FindPrefixAll = line => {\r\n   let prefix = FindPrefix(line);\r\n   if(prefix !== 0) return prefix;\r\n   if(line.slice(0,3) === '\\\\u ') return 3;\r\n   if(line.slice(0,3) === '\\\\c ') return 3;\r\n   return 0;\r\n}\r\n\r\nconst FindPrefixCheckState = line => {\r\n   if(line.slice(0,3) === '\\\\u ') return false;\r\n   if(line.slice(0,3) === '\\\\c ') return true;\r\n   return null;\r\n}\r\n\r\nconst FindPrefix = line => {\r\n   const regex = /^(| )- ?/g.exec(line);\r\n   return regex ? regex[0].length : 0;\r\n}\r\n\r\n\r\nexport default App;\r\n\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport InputAdornment from '@material-ui/core/InputAdornment';\r\nimport {Store} from '../context';\r\nimport MoreHorizIcon from '@material-ui/icons/MoreHoriz';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport Slider from '@material-ui/lab/Slider';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\n\r\nconst charset = \"abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789\";\r\nconst charsetPlus = \"!@#$%^&*\";\r\nconst charsetPlus2 = \"()_+~`'|}{[]\\\\:;?><,./-=\";\r\n\r\nconst GeneratePassword = (length,usePlus,usePlus2) => {\r\n  const pool = charset + (usePlus ? charsetPlus : '') + (usePlus2 ? charsetPlus2 : '');\r\n  const poolSize = pool.length;\r\n  let str = '';\r\n  for(let i = 0;i<length;i++){\r\n    str += pool.charAt(Math.floor(Math.random() * poolSize));\r\n  }\r\n  return str;\r\n}\r\n\r\nconst useStylesPopper = makeStyles(theme => ({\r\n    root:{\r\n        padding:\"24px 48px\",\r\n        width:300\r\n    },\r\n    header:{\r\n        'h6&':{   \r\n            marginBottom:8,\r\n            fontSize:\"1.15rem\"\r\n        }\r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent: 'space-between',\r\n        alignItems: 'center',\r\n        padding:'6px 0',\r\n        borderBottom:\"2px solid #ddd\",\r\n        '& b':{\r\n            letterSpacing:2\r\n        },\r\n        '&.no-border':{\r\n            border:'none',\r\n            paddingBottom:0\r\n        }\r\n    },\r\n    slider:{\r\n        width:160,\r\n        margin:'0 24px'\r\n    }\r\n}));\r\n\r\nlet SaveFunction = null;\r\nconst GenraterPopover = ({handleClose,anchorEl,generatePassword}) => {\r\n    const classes = useStylesPopper();\r\n    const [length,setLength] = React.useState(24);\r\n    const [plus,setPlus] = React.useState(true);\r\n    const [plus2,setPlus2] = React.useState(true);\r\n        \r\n\r\n    const onCreate = e => {\r\n        generatePassword(length,plus,plus2);\r\n    }\r\n\r\n    React.useEffect(()=>{\r\n        const str = localStorage.getItem('pg');\r\n\r\n        if(str){\r\n            const settings = JSON.parse(atob(str))\r\n            setLength(settings.l);\r\n            setPlus(settings.p);\r\n            setPlus2(settings.pp);\r\n        }\r\n\r\n        return () => {\r\n            if(SaveFunction) SaveFunction();\r\n        }\r\n    },[])\r\n\r\n    React.useEffect(()=>{\r\n        SaveFunction = () => {\r\n            const data = btoa(JSON.stringify({l:length,p:plus,pp:plus}))\r\n            localStorage.setItem('pg',data);\r\n        }\r\n    }, [length,plus,plus2])\r\n\r\n    return(\r\n        <Popper \r\n          id=\"generater-popper\"\r\n          open={!!anchorEl}\r\n          anchorEl={anchorEl}\r\n          onClose={handleClose}\r\n          placement=\"top\"\r\n          style={{zIndex:1500}}\r\n        >\r\n            <Paper className={classes.root}>\r\n                <Typography className={classes.header} variant=\"h6\">Password Generater</Typography>\r\n                <div className={classes.row}>\r\n                    <Typography>Length</Typography>\r\n                    <Slider\r\n                        className={classes.slider}\r\n                        value={length}\r\n                        min={16}\r\n                        max={64}\r\n                        step={1}\r\n                        onChange={(e,value)=>setLength(value)}\r\n                        />\r\n                    <Typography className={classes.sliderValue}>{length}</Typography>\r\n                </div>\r\n                <div className={classes.row}>\r\n                    <Typography>Use <b>!@#$%^&*</b></Typography>\r\n                    <Checkbox checked={plus} onChange={e=>setPlus(e.target.checked)} />\r\n                </div>\r\n                <div className={classes.row}>\r\n                    <Typography>Use <b>{\"()_+~`'|}{[]\\\\:;?><,./-=\"}</b></Typography>\r\n                    <Checkbox checked={plus2} onChange={e=>setPlus2(e.target.checked)}/>\r\n                </div>\r\n                <div className={classes.row+\" no-border\"}>\r\n                    <Button variant=\"contained\" color=\"secondary\" onClick={handleClose}>Close</Button>\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={onCreate}>Generate</Button>\r\n                </div>\r\n\r\n            </Paper>\r\n        </Popper>\r\n    )\r\n}\r\n\r\nfunction FormDialog(props) {\r\n    const [name,setName] = React.useState(props.name || '');\r\n    const [username,setUsername] = React.useState(props.username || '');\r\n    const [password,setPassword] = React.useState(props.password || '');\r\n    const [anchorEl, setAnchorEl] = React.useState();\r\n    const editMode = !!props.name;\r\n\r\n    const {CreateNewPassword} = props;\r\n\r\n    function handleClose() {\r\n        props.close();\r\n    }\r\n\r\n    const submit = e => {\r\n        e.preventDefault();\r\n        \r\n        if(editMode){\r\n            props.EditPassword(props.id,name,username,password).then(()=>{\r\n            handleClose();\r\n\r\n            }).catch(err => {\r\n                console.log(err);\r\n            })\r\n            return;\r\n        }\r\n\r\n        CreateNewPassword(name,username,password).then(()=>{\r\n            handleClose();\r\n        }).catch(err => {\r\n            console.log(err);\r\n        })\r\n    }\r\n\r\n    const handlePopoverClose = () => {\r\n        setAnchorEl(null);\r\n    }\r\n\r\n    const togglePopover = e => {\r\n        setAnchorEl(anchorEl ? null : e.currentTarget);\r\n    }\r\n\r\n    const generatePassword = (length,usePlus,usePlus2) => {\r\n        const pass = GeneratePassword(length,usePlus,usePlus2);\r\n        setPassword(pass);\r\n    }\r\n  \r\n    return (\r\n    <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={handleClose}>\r\n        <DialogTitle>{editMode ? \"Edit password\" : \"Create new password\"}</DialogTitle>\r\n        <DialogContent>\r\n            <DialogContentText>\r\n                {editMode ? \"Edit the passwords name, username or/and password.\" : \"Create a new password with a name, username and password.\"}\r\n            </DialogContentText>\r\n            <form onSubmit={submit}>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label=\"Name\"\r\n                    value={name}\r\n                    onChange={e => setName(e.target.value)}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    label=\"Username\"\r\n                    value={username}\r\n                    onChange={e => setUsername(e.target.value)}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    label=\"Password\"\r\n                    value={password}\r\n                    onChange={e => setPassword(e.target.value)}\r\n                    type=\"text\"\r\n                    fullWidth\r\n                    InputProps={{\r\n                        endAdornment: (\r\n                        <InputAdornment position=\"end\">\r\n                            <IconButton\r\n                                aria-describedby={anchorEl ? 'generater-popper' : undefined}\r\n                                aria-haspopup=\"true\"\r\n                                onClick={togglePopover}\r\n                                >\r\n                                <MoreHorizIcon color=\"primary\" />\r\n                            </IconButton>\r\n                        </InputAdornment>\r\n                        ),\r\n                    }}\r\n                />\r\n            </form>\r\n            <GenraterPopover handleClose={handlePopoverClose} anchorEl={anchorEl} generatePassword={generatePassword} />\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n                Cancel\r\n            </Button>\r\n            <Button onClick={submit} variant=\"contained\" color=\"primary\">\r\n                {editMode ? \"Save\" : \"Create\"}\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textField:{\r\n        '& input':{\r\n            color: 'transparent',\r\n            textShadow:` 0 0 0 ${theme.palette.text.primary}`\r\n        },\r\n        '& input:foucs':{\r\n            outline: 'none'\r\n        }\r\n    }\r\n}));\r\n\r\nfunction FormDialog(props) {\r\n    const classes = useStyles();\r\n    const [clipboarded, setClipboarded] = React.useState([false,false]);\r\n    const [anchorEl,setAnchorEl] = React.useState(null);\r\n    const usernameEl = React.useRef(null);\r\n    const passwordEl = React.useRef(null);\r\n\r\n    const copyToClipboard = index => e => {\r\n        (!index ? usernameEl : passwordEl).current.select();\r\n        document.execCommand('copy');\r\n        e.target.focus();\r\n        setClipboarded([!index && true, !!index && true]);\r\n    }\r\n  \r\n    return (\r\n        <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={props.onClose}>\r\n            <DialogTitle>{props.name}</DialogTitle>\r\n            <DialogContent>\r\n                {/* <DialogContentText>\r\n                    {props.text}\r\n                </DialogContentText> */}\r\n                <TextField\r\n                    className={classes.textField}\r\n                    inputRef={usernameEl}\r\n                    margin=\"dense\"\r\n                    label=\"Username\"\r\n                    value={props.username}\r\n                    onClick={copyToClipboard(0)}\r\n                    type=\"text\"\r\n                    helperText={clipboarded[0] && 'Copied to clipboard!'}\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    className={classes.textField}\r\n                    inputRef={passwordEl}\r\n                    margin=\"dense\"\r\n                    label=\"Password\"\r\n                    value={props.password}\r\n                    onClick={copyToClipboard(1)}\r\n                    type=\"text\"\r\n                    helperText={clipboarded[1] && 'Copied to clipboard!'}\r\n                    fullWidth\r\n                />\r\n                </DialogContent>\r\n            <DialogActions>\r\n                <Button\r\n                aria-owns={anchorEl ? 'password-option-menu' : undefined}\r\n                aria-haspopup=\"true\"\r\n                onClick={e=>setAnchorEl(e.currentTarget)} color=\"primary\">\r\n                    Options\r\n                </Button>\r\n                <Menu anchorEl={anchorEl} id=\"password-option-menu\" open={!!anchorEl} onClose={e=>setAnchorEl(null)}>\r\n                    <MenuItem onClick={props.onEditPassword}>Edit</MenuItem>\r\n                    <MenuItem onClick={props.onDelete}>Delete</MenuItem>\r\n                </Menu>\r\n                <Button onClick={props.onClose} color=\"secondary\">\r\n                    Close\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport { Paper, Typography, Checkbox, Button } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport KeyIcon from '@material-ui/icons/VpnKey';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport LockIcon from '@material-ui/icons/Lock';\r\nimport baseStyle from '../styles';\r\nimport {Store} from './context';\r\nimport {encrypt,decrypt} from './encryption';\r\n\r\nimport PasswordDialog from './dialogs/passwordDialog';\r\nimport PasswordDisplay from './dialogs/passwordDisplay';\r\nimport ConfirmDialog from './dialogs/confirmDialog';\r\nimport api from '../api';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  ...baseStyle(theme),\r\n  root:{\r\n    width: '25%',\r\n    margin:8,\r\n    marginBottom:0,\r\n    background:theme.palette.background.default,\r\n    maxWidth: theme.props.sizing,\r\n    position: 'relative',\r\n    padding: '0 6px',\r\n    overflowY:'auto',\r\n    [theme.breakpoints.down('md')]:{\r\n      width: '33.33%',\r\n    },\r\n    [theme.breakpoints.down('sm')]:{\r\n        width:'100%',\r\n    },\r\n  },\r\n  item:{\r\n    // backgroundColor: theme.palette.background.paper,\r\n    display:'flex',\r\n    padding:\"4px 16px\",\r\n    width:'100%',\r\n    boxSizing: 'border-box',\r\n  },\r\n  addBtn:{\r\n    'button&':{\r\n      margin:'6px auto',\r\n      display:'block'\r\n    }\r\n  }\r\n}));\r\n\r\nconst DecryptPasswordData = (data,encryption) => {\r\n  return data.map(e => {\r\n    const arr = e.data.split(';');\r\n    return {\r\n      ...e,\r\n      data: undefined,\r\n      name: decrypt(arr[0],encryption),\r\n      username: decrypt(arr[1],encryption),\r\n      password: decrypt(arr[2],encryption),\r\n    }\r\n  })\r\n}\r\n\r\nconst App = props => {\r\n\r\n  const {data,encryption} = props;\r\n  const store = React.useContext(Store);\r\n  const [passwords,setPasswords] = React.useState(DecryptPasswordData(data.reverse(),encryption));\r\n  const classes = useStyles();\r\n\r\n  const CreateNewPassword = (name,username,password) => {\r\n    if(!encryption.useEncryption) return Promise.reject();\r\n    const data = [encrypt(name,encryption),encrypt(username,encryption),encrypt(password,encryption)].join(';');\r\n    return api.password.create(data,store.projectId).then(res => {\r\n      const {_id,projectId,creater,created} = res.data;\r\n      setPasswords([{_id,name,username,password,projectId,creater,created},...passwords]);\r\n    })\r\n  }\r\n\r\n  const EditPassword = (id,name,username,password) => {\r\n    if(!encryption.useEncryption) return Promise.reject();\r\n    const data = [encrypt(name,encryption),encrypt(username,encryption),encrypt(password,encryption)].join(';');\r\n    return api.password.edit(id,data,store.projectId).then(res => {\r\n      setPasswords(passwords.map(e =>{\r\n        if(e._id !== id) return e;\r\n        return {\r\n          ...e,\r\n          name,\r\n          username,\r\n          password\r\n        }\r\n      }))\r\n    })\r\n  }\r\n\r\n  const DeletePassword = (id) => {\r\n    return api.password.delete(id,store.projectId).then(res => {\r\n      setPasswords(passwords.filter(e => e._id !== id));\r\n    });\r\n  }\r\n\r\n  const ShowCreateDialog = e => {\r\n    store.setDialog(PasswordDialog,{CreateNewPassword});\r\n  }\r\n\r\n  const ShowPassword = item => {\r\n    const onClose = e => {\r\n      store.setDialog();\r\n    }\r\n    const onEditPassword = e => {\r\n      const {name,username,password,_id: id} = item;\r\n      store.setDialog(PasswordDialog,{name,username,password,id,EditPassword})\r\n    }\r\n\r\n    const onDelete = e => {\r\n      const {_id: id} = item;\r\n      store.setDialog(ConfirmDialog,{title:'Delete password',text:'Are you sure you want to delete this password?',onClose,submitText:\"delete\",onConfirm:()=>DeletePassword(id)});\r\n    }\r\n\r\n    store.setDialog(PasswordDisplay,{...item,onClose,onEditPassword,onDelete})\r\n  }\r\n  \r\n  return(\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        {encryption.useEncryption && <div className={classes.topBtnContent}>\r\n          <Button\r\n            onClick={ShowCreateDialog}\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            ><AddIcon />Add password</Button>\r\n        </div>}\r\n        {!encryption.useEncryption && \r\n          <div className={classes.infoHeader}>\r\n            <Typography variant=\"subtitle1\">Project must use encryption to use passwords!</Typography>\r\n            <Button\r\n              size=\"large\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              ><LockIcon />Create encryption</Button>\r\n          </div>\r\n        }\r\n        {encryption.useEncryption && passwords.map(e =>\r\n          <ListItem key={e._id} button className={classes.item} onClick={_ => ShowPassword(e)}>\r\n            <ListItemIcon>\r\n              <KeyIcon />\r\n            </ListItemIcon>\r\n            <ListItemText inset primary={e.name} />\r\n          </ListItem>\r\n        )}\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    textFields:{\r\n        margin:'16px 0',\r\n        '& > div':{\r\n            marginRight:32\r\n        }\r\n    }\r\n}));\r\n// 2017-05-24\r\nconst num = n => n > 9 ? n : '0'+n;\r\nfunction FormDialog(props) {\r\n    const classes = useStyles();\r\n    const now = new Date();\r\n    const formatTime = date => `${num(date.getHours())}:${num(date.getMinutes())}`;\r\n    const formatDate = date => `${date.getFullYear()}-${num(date.getMonth()+1)}-${num(date.getDate())}`;\r\n    const [name,setName] = React.useState(props.name || '');\r\n    const [date,setDate] = React.useState(props.start ? formatDate(new Date(props.start)) : formatDate(now));\r\n    const [start,setStart] = React.useState(props.start ? formatTime(new Date(props.start)) : formatTime(now) );\r\n    const [end,setEnd] = React.useState(props.end ? formatTime(new Date(props.end)) : formatTime(now));\r\n    \r\n    const editMode = !!props.name;\r\n\r\n    function handleClose() {\r\n        props.onClose();\r\n    }\r\n\r\n    const submit = e => {\r\n        e.preventDefault();\r\n        const d = new Date(date);\r\n        const [sH,sM] = start.split(':');\r\n        const [eH,eM] = end.split(':');\r\n        let s_d = new Date(d.getFullYear(),d.getMonth(),d.getDate(),Number(sH),Number(sM));\r\n        let e_d = new Date(d.getFullYear(),d.getMonth(),d.getDate(),Number(eH),Number(eM));\r\n        if(s_d.getTime() > e_d.getTime()){\r\n            e_d.setDate(d.getDate() + 1);\r\n        }\r\n        props.onSubmit(name,s_d,e_d);\r\n        handleClose();\r\n    }\r\n  \r\n    return (\r\n    <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={handleClose}>\r\n        <form onSubmit={submit}>\r\n            <DialogTitle>{editMode ? 'Edit timer' : \"Add timer\"}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {editMode ? 'Edit the timer name, start or/and end time.' : \"Create a new timer with a name, date, start and end time\"}\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label=\"Name\"\r\n                    type=\"text\"\r\n                    value={name}\r\n                    onChange={e=>setName(e.target.value)}\r\n                    fullWidth\r\n                />\r\n                <div className={classes.textFields}>\r\n                    <TextField\r\n                        id=\"date\"\r\n                        label=\"Date\"\r\n                        type=\"date\"\r\n                        value={date}\r\n                        onChange={e=>setDate(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        id=\"time\"\r\n                        label=\"Start time\"\r\n                        type=\"time\"\r\n                        value={start}\r\n                        onChange={e=>setStart(e.target.value)}\r\n                        InputLabelProps={{\r\n                            shrink: true,\r\n                        }}\r\n                        inputProps={{\r\n                        step: 300,\r\n                        }}\r\n                    />\r\n                    <TextField\r\n                        id=\"time\"\r\n                        label=\"End time\"\r\n                        type=\"time\"\r\n                        value={end}\r\n                        onChange={e=>setEnd(e.target.value)}\r\n                        InputLabelProps={{\r\n                        shrink: true,\r\n                        }}\r\n                        inputProps={{\r\n                            step: 300,\r\n                        }}\r\n                    />\r\n                </div>\r\n\r\n                \r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={submit} variant=\"contained\" color=\"primary\">\r\n                    {editMode ? 'Save' : \"Create\"}\r\n                </Button>\r\n            </DialogActions>\r\n        </form>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport { Paper, Typography, Button, Fab } from '@material-ui/core';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport TimerIcon from '@material-ui/icons/Timer';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\n\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport PlayIcon from '@material-ui/icons/PlayArrow';\r\nimport StopIcon from '@material-ui/icons/Stop';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nimport baseStyle from '../styles';\r\nimport {encrypt,decrypt} from './encryption';\r\nimport moment, { min } from 'moment';\r\nimport {Store} from './context';\r\nimport api from '../api';\r\n\r\nimport {FormatTime, FormatTimeStacked} from './timerFormatting';\r\n\r\nimport SingleInput from './dialogs/singleInput';\r\nimport TimerDialog from './dialogs/timerDialog';\r\nimport TimerDisplay from './dialogs/display';\r\nimport ConfirmDialog from './dialogs/confirmDialog';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  ...baseStyle(theme),\r\n  root:{\r\n    width: '25%',\r\n    margin:8,\r\n    marginBottom:0,\r\n    background:theme.palette.background.default,\r\n    maxWidth: theme.props.sizing,\r\n    position: 'relative',\r\n    padding: '0 6px',\r\n    overflowY:'auto',\r\n    [theme.breakpoints.down('md')]:{\r\n      width: '33.33%',\r\n    },\r\n    [theme.breakpoints.down('sm')]:{\r\n        width:'100%',\r\n    },\r\n  },\r\n  item:{\r\n    display:'flex',\r\n    padding:\"4px 16px\",\r\n    width:'100%',\r\n    boxSizing: 'border-box',\r\n    background: theme.palette.background.paper\r\n  },\r\n  itemSecAction:{\r\n    marginRight: theme.spacing.unit * 2,\r\n    '&.disabled p':{\r\n      color: 'rgba(0, 0, 0, 0.3)'\r\n    }\r\n  },\r\n  addBtn:{\r\n    'button&':{\r\n      margin:'6px auto',\r\n      display:'block'\r\n    }\r\n  },\r\n  activeTimer:{\r\n    'div&':{\r\n      border:`2px solid ${theme.palette.primary.main}`,\r\n      borderRadius:8\r\n    }\r\n  },\r\n  displayBottomBorder:{\r\n    borderBottom: '2px solid rgba(0, 0, 0, 0.3)',\r\n    'h5&':{\r\n      marginBottom:'0.5rem',\r\n    }\r\n  }\r\n}));\r\n\r\nconst TimersInitData = (data,enc) => \r\n  data.map(e => {\r\n      return {\r\n        ...e,\r\n        name: decrypt(e.name,enc)\r\n      }\r\n  });\r\n\r\nconst GetTotalTime = (s,e) => (e ? new Date(e) : new Date()).getTime() - new Date(s).getTime();\r\n\r\n\r\n\r\nlet interval;\r\nconst App = props => {\r\n  const classes = useStyles();\r\n  const store = React.useContext(Store);\r\n  const {data,encryption} = props;\r\n  const [timers,setTimers] = React.useState(TimersInitData(data,encryption));\r\n  const [update,setUpdate] = React.useState();\r\n\r\n  const onClose = e => {\r\n    store.setDialog();\r\n  }\r\n\r\n  const StartTimer = name => {\r\n    const now = new Date();\r\n    const m_name = encrypt(name,encryption);\r\n    api.timer.start(m_name,now,store.projectId).then(res => {\r\n      const item = {\r\n        ...res.data,\r\n        name\r\n      }\r\n      setTimers([item,...timers]);\r\n    })\r\n  }\r\n\r\n  const onStart = () => {\r\n    store.setDialog(SingleInput,\r\n      {\r\n        title:'Start timer',\r\n        text:'Start a timer with a name',\r\n        label:'Name',\r\n        submitText:'Start',\r\n        onSubmit: StartTimer,\r\n        onClose\r\n      });\r\n  }\r\n\r\n  const onStop = () => {\r\n    const item = timers.find(e => e.end === undefined);\r\n    if(!item) return;\r\n    const id = item._id;\r\n    const now = new Date();\r\n    api.timer.end(id,now,store.projectId).then(res => {\r\n\r\n      setTimers(timers.map( e => {\r\n        if(e._id !== id) return e;\r\n        return{\r\n          ...e,\r\n          end: now.toISOString()\r\n        }\r\n      }));\r\n\r\n    });\r\n  }\r\n\r\n  const onAdd = () => {\r\n    const onSubmit = (name,start,end) => {\r\n      return api.timer.create(encrypt(name,encryption),start,end,store.projectId).then(({data}) => {\r\n        setTimers([{\r\n          ...data,\r\n          name\r\n        },...timers])\r\n      })\r\n    }\r\n    store.setDialog(TimerDialog,{onClose,onSubmit});\r\n  }\r\n\r\n  const DeleteTimer = id => {\r\n    return api.timer.delete(id,store.projectId).then(res => {\r\n      setTimers(timers.filter(e=>e._id !== id));\r\n      onClose();\r\n    })\r\n  }\r\n\r\n  const EditTimer = id => (name,start,end) => {\r\n    return api.timer.edit(id,encrypt(name, encryption),start,end,store.projectId).then(res => {\r\n      setTimers(timers.map(e =>{\r\n        if(e._id !== id) return e;\r\n        return {\r\n          ...e,\r\n          name,\r\n          start,\r\n          end\r\n        }\r\n      }))\r\n    })\r\n  }\r\n\r\n  const hasActiveTimer = timers.some(x => !x.end);\r\n\r\n  const onShow = obj => e => {\r\n\r\n    const onEdit = item => () => {\r\n      const {name,start,end,_id: id} = item;\r\n      store.setDialog(TimerDialog,{name,start,end,id, onSubmit:EditTimer(id),onClose})\r\n    }\r\n    const onDelete = item => () => {\r\n      const {_id: id} = item;\r\n      store.setDialog(ConfirmDialog,{title:'Delete timer',text:'Are you sure you want to delete this timer?',onClose,submitText:\"delete\",onConfirm:()=>DeleteTimer(id)});\r\n    }\r\n\r\n    const onContinue = () => {\r\n      StartTimer(obj.name)\r\n    }\r\n\r\n    if(obj.ids){\r\n\r\n      const items = obj.ids.map(e =>\r\n        timers.find(x => x._id === e))\r\n\r\n      const content = (\r\n        <List>\r\n          {items.map(e => {\r\n            const {text,time} = FormatTime(e.start,e.end);\r\n            return (\r\n              <ListItem>\r\n                <ListItemText primary={'Timespan: '+text} secondary={'Total time: ' + time} />\r\n                <ListItemSecondaryAction>\r\n                  <IconButton aria-label=\"Edit\" onClick={onEdit(e)}>\r\n                    <EditIcon />\r\n                  </IconButton>\r\n                  <IconButton aria-label=\"Delete\" onClick={onDelete(e)}>\r\n                    <DeleteIcon />\r\n                  </IconButton>\r\n                </ListItemSecondaryAction>\r\n              </ListItem>\r\n            )\r\n          })}\r\n        </List>\r\n      )\r\n      store.setDialog(TimerDisplay,{title:obj.name,content,onClose,onContinue,hideContinue:hasActiveTimer,hideMenu:true});\r\n\r\n    }else{\r\n\r\n      const {text,time} = FormatTime(obj.start,obj.end);\r\n      const content = (\r\n        <List>\r\n          <ListItem>\r\n            <ListItemText primary={'Timespan: '+text} secondary={'Total time: ' + time} />\r\n          </ListItem>\r\n        </List>\r\n      )\r\n  \r\n      store.setDialog(TimerDisplay,{title:obj.name,content,onClose,onContinue,hideContinue:hasActiveTimer,onDelete:onDelete(obj),onEdit:onEdit(obj)});\r\n    }\r\n  }\r\n\r\n  let totalTime = 0, totalItems = timers.length;\r\n  const timersSort = timers.sort((a,b)=>a.start > b.start ? -1 : a.start < b.start ? 1 : 0);      \r\n  const min_timer = [];\r\n  for(let i = 0;i<timers.length;i++){\r\n    let obj = {...timers[i]};\r\n    obj.totalTime = GetTotalTime(obj.start,obj.end);\r\n    while(i < timers.length - 1 && timersSort[i+1].name === timersSort[i].name){\r\n      const item = timersSort[i + 1];\r\n      if(!obj.ids) obj.ids = [obj._id];\r\n      obj.ids.push(item._id);\r\n      obj.start = item.start;\r\n      obj.totalTime += GetTotalTime(item.start,item.end);\r\n      i++;\r\n    }\r\n    min_timer.push(obj);\r\n  }\r\n\r\n  const jsx = min_timer.map(e => {\r\n    const {text,time} = e.ids ? FormatTimeStacked(e.start,e.end,e.totalTime) : FormatTime(e.start,e.end,e.totalTime);\r\n\r\n    totalTime += e.totalTime || 0;\r\n    return (\r\n      <ListItem key={e._id} button className={classes.item + (!e.end ? ` ${classes.activeTimer}` : '')} onClick={onShow(e)} >\r\n        <ListItemIcon>\r\n          <TimerIcon color={!e.end ? 'primary' : 'inherit'} />\r\n        </ListItemIcon>\r\n\r\n        <ListItemText inset primary={e.name+ (e.ids ? ` (${e.ids.length})` : '')} secondary={text} />\r\n        <ListItemSecondaryAction className={classes.itemSecAction}>\r\n          <Typography>{time}</Typography>\r\n        </ListItemSecondaryAction>\r\n\r\n      </ListItem>\r\n    )\r\n  });\r\n\r\n\r\n\r\n  React.useEffect(() => () => {\r\n      if(interval) clearInterval(interval);\r\n  });\r\n  \r\n  if(hasActiveTimer){\r\n    interval = setInterval(()=>{\r\n      setUpdate(new Date().getTime());\r\n    },30000);\r\n  }\r\n\r\n  return(\r\n    <div className={classes.root}>\r\n      <List component=\"nav\">\r\n        <div className={classes.topBtnContent}>\r\n          {hasActiveTimer ?\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={onStop}\r\n              ><StopIcon />Stop timer</Button>\r\n            :\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={onStart}\r\n              ><PlayIcon />Start timer</Button>\r\n          }\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color='secondary'\r\n            onClick={onAdd}\r\n            ><AddIcon />Add timer</Button>\r\n        </div>\r\n\r\n        {jsx}\r\n\r\n        <ListItem button disabled className={classes.item}>\r\n          <ListItemText inset primary={`Total time ${ totalTime ? moment.duration(totalTime,'ms').humanize() : '-'}`} secondary=\"Start date 03/01 - 2019\" />\r\n          <ListItemSecondaryAction className={classes.itemSecAction + ' disabled'}>\r\n            <Typography>{totalItems} items</Typography>\r\n          </ListItemSecondaryAction>\r\n        </ListItem>\r\n      </List>\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { makeStyles, useTheme  } from '@material-ui/styles';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root:{\r\n    minHeight:128,\r\n    width:'100%',\r\n    display:'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  fill:{\r\n    height:'100%',\r\n    '& .lds-ellipsis':{\r\n      marginBottom: '10%'\r\n    }\r\n  },\r\n  short:{\r\n    minHeight:32\r\n  },\r\n  ldsEllipsisColor:{\r\n    '& div':{\r\n      background: theme.palette.primary.main\r\n    }\r\n  }\r\n}))\r\n\r\nconst Loading = props => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <div className={`${classes.root} ${props.fill ? classes.fill : ''} ${props.short ? classes.short : ''}`}>\r\n      <div className={`lds-ellipsis ${classes.ldsEllipsisColor}`}>\r\n        <div />\r\n        <div />\r\n        <div />\r\n        <div />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Loading;","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DomainIcon from '@material-ui/icons/Domain';\r\nimport AddIcon from '@material-ui/icons/AddCircle';\r\nimport singleInput from './singleInput';\r\n\r\nimport {Store} from '../context';\r\nimport api from '../../api';\r\nimport Loading from '../loading';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    link:{\r\n        textDecoration: 'none',\r\n        color: 'inherit'\r\n    }\r\n}));\r\n\r\nfunction FormDialog() {\r\n    const classes = useStyles();\r\n    \r\n    const store = React.useContext(Store);\r\n    const [projects,setProjects] = React.useState([]);\r\n    const [isLoading, setIsLoading] = React.useState(true);\r\n\r\n    const addProjectDialogProps = {\r\n        title:\"New project\",\r\n        text:\"Enter project name\",\r\n        label:\"Name\",\r\n        submitText:\"Create\",\r\n        onClose: store.setDialog,\r\n        onSubmit: input => {\r\n            api.project.create(input).then(doc => {\r\n                store.set({\r\n                    dialog:{},\r\n                    projectId: doc._id\r\n                });\r\n            })\r\n        }\r\n    }\r\n\r\n    const selectProject = id => {\r\n\r\n        store.set({\r\n            dialog:{},\r\n            projectId: id\r\n        });\r\n    }\r\n\r\n    React.useEffect(() => {\r\n        api.project.fetchList().then(res => {\r\n            setProjects(res.data);\r\n            setIsLoading(false);\r\n        });\r\n    },[]);\r\n    \r\n    function handleClose() {\r\n        store.setDialog(null);\r\n    }\r\n\r\n    return (\r\n    <Dialog\r\n        open={true}\r\n        onClose={handleClose}\r\n        fullWidth={true}\r\n        maxWidth='sm'\r\n        >\r\n        <DialogTitle>Select a project</DialogTitle>\r\n        <DialogContent>\r\n            {isLoading && <Loading />}\r\n            {!isLoading && <>\r\n            <DialogContentText>\r\n                Project list\r\n            </DialogContentText>\r\n            <List component=\"nav\">\r\n\r\n\r\n                {projects.map(e =>\r\n                    <Link key={e._id} to='/' className={classes.link}>\r\n                        <ListItem button onClick={_ => selectProject(e._id)}>\r\n                            <ListItemIcon>\r\n                                <DomainIcon />\r\n                            </ListItemIcon>\r\n                            <ListItemText inset primary={e.name} />\r\n                        </ListItem>\r\n                    </Link>\r\n                )}\r\n                \r\n                <ListItem button onClick={e => store.setDialog(singleInput, addProjectDialogProps)}>\r\n                    <ListItemIcon>\r\n                        <AddIcon color=\"primary\" />\r\n                    </ListItemIcon>\r\n                    <ListItemText inset primary=\"Create a new project\" />\r\n                </ListItem>\r\n\r\n            </List>\r\n            </>}\r\n        </DialogContent>\r\n        <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n                Cancel\r\n            </Button>\r\n        </DialogActions>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport { makeStyles, useTheme } from '@material-ui/styles';\r\nimport clsx from 'clsx';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ArrowDropDown from '@material-ui/icons/ArrowDropDown';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport MoreIcon from '@material-ui/icons/MoreVert';\r\nimport Button from '@material-ui/core/Button';\r\n\r\nimport {Store} from '../components/context';\r\n\r\nimport DialogProjectMenu from '../components/dialogs/projectMenu';\r\nimport { Icon } from '@material-ui/core';\r\nimport IconViewCol from '@material-ui/icons/ViewCarousel';\r\nimport IconSettings from '@material-ui/icons/SettingsApplications';\r\nimport IconTimeline from '@material-ui/icons/Timeline';\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  grow: {\r\n    flexGrow: 1,\r\n  },\r\n  menuButton: {\r\n    marginLeft: -12,\r\n    marginRight: 20,\r\n  },\r\n  title: {\r\n    display: 'none',\r\n    padding: '0 16px',\r\n    [theme.breakpoints.up('sm')]: {\r\n      display: 'block',\r\n    },\r\n  },\r\n  projectSelecter: {\r\n    position: 'relative',\r\n    borderRadius: theme.shape.borderRadius,\r\n    backgroundColor: fade(theme.palette.common.white, 0.15),\r\n    '&:hover': {\r\n      backgroundColor: fade(theme.palette.common.white, 0.25),\r\n    },\r\n    marginLeft: theme.spacing.unit * 2,\r\n    marginRight: 0,\r\n    width: '100%',\r\n    [theme.breakpoints.up('sm')]: {\r\n      marginLeft: theme.spacing.unit * 3,\r\n      width: 'auto',\r\n    },\r\n  },\r\n  searchIcon: {\r\n    width: theme.spacing.unit * 9,\r\n    height: '100%',\r\n    position: 'absolute',\r\n    pointerEvents: 'none',\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  inputRoot: {\r\n    color: 'inherit',\r\n    width: '100%',\r\n  },\r\n  inputInput: {\r\n    paddingTop: theme.spacing.unit,\r\n    paddingRight: theme.spacing.unit,\r\n    paddingBottom: theme.spacing.unit,\r\n    paddingLeft: theme.spacing.unit * 10,\r\n    transition: theme.transitions.create('width'),\r\n    width: '100%',\r\n    [theme.breakpoints.up('md')]: {\r\n      width: 200,\r\n    },\r\n  },\r\n  sectionDesktop: {\r\n    display: 'none',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'flex',\r\n    },\r\n  },\r\n  sectionMobile: {\r\n    display: 'flex',\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  drawer:{\r\n    width: drawerWidth,\r\n    flexShrink: 0,\r\n    whiteSpace: 'nowrap',\r\n    paddingTop: theme.mixins.toolbar.minHeight,\r\n  },\r\n  drawerRoot:{\r\n    zIndex:1000\r\n  },\r\n  toolbar: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  link:{\r\n    textDecoration:'none',\r\n    color:'inherit',\r\n    outline:'none'\r\n  }\r\n}));\r\n\r\nconst Nav = props => {\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileMoreAnchorEl, setMobileMoreAnchorEl] = React.useState(null);\r\n  const [isDrawerOpen,setIsDrawerOpen] = React.useState(false);\r\n  const store = React.useContext(Store);\r\n\r\n  const isMenuOpen = Boolean(anchorEl);\r\n  const isMobileMenuOpen = Boolean(mobileMoreAnchorEl);\r\n\r\n  function handleProfileMenuOpen(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleMobileMenuClose() {\r\n    setMobileMoreAnchorEl(null);\r\n  }\r\n\r\n  function handleMenuClose() {\r\n    setAnchorEl(null);\r\n    handleMobileMenuClose();\r\n  }\r\n\r\n  function handleMobileMenuOpen(event) {\r\n    setMobileMoreAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function projectMenuHandleClick(event) {\r\n    store.setDialog(DialogProjectMenu);\r\n  }\r\n\r\n  function handleDrawerOpen(){\r\n    setIsDrawerOpen(true);\r\n  }\r\n\r\n  function handleDrawerClose(){\r\n    setIsDrawerOpen(false);\r\n  }\r\n\r\n\r\n  const renderMenu = (\r\n    <Menu\r\n      anchorEl={anchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMenuOpen}\r\n      onClose={handleMenuClose}\r\n    >\r\n      <Link className={classes.link} to=\"/account\">\r\n        <MenuItem onClick={handleMenuClose}>My account</MenuItem>\r\n      </Link>\r\n      <MenuItem onClick={handleMenuClose}>Logout</MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  const renderMobileMenu = (\r\n    <Menu\r\n      anchorEl={mobileMoreAnchorEl}\r\n      anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      transformOrigin={{ vertical: 'top', horizontal: 'right' }}\r\n      open={isMobileMenuOpen}\r\n      onClose={handleMobileMenuClose}\r\n    >\r\n      {/* <MenuItem>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={4} color=\"secondary\">\r\n            <MailIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Messages</p>\r\n      </MenuItem>\r\n      <MenuItem>\r\n        <IconButton color=\"inherit\">\r\n          <Badge badgeContent={11} color=\"secondary\">\r\n            <NotificationsIcon />\r\n          </Badge>\r\n        </IconButton>\r\n        <p>Notifications</p>\r\n      </MenuItem> */}\r\n      <MenuItem onClick={handleProfileMenuOpen}>\r\n        <IconButton color=\"inherit\">\r\n          <AccountCircle />\r\n        </IconButton>\r\n        <p>Profile</p>\r\n      </MenuItem>\r\n    </Menu>\r\n  );\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"static\">\r\n        <Toolbar variant=\"dense\">\r\n          <IconButton className={classes.menuButton} onClick={handleDrawerOpen} color=\"inherit\" aria-label=\"Open drawer\">\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Link to='/' className={`${classes.link} ${classes.title}`}>\r\n            <Typography variant=\"h6\" color=\"inherit\" noWrap>\r\n              Exec Lux\r\n            </Typography>\r\n          </Link>\r\n          {store.hasAuth && <div\r\n            className={classes.projectSelecter}\r\n            >\r\n            <Button \r\n              variant=\"outlined\"\r\n              color=\"inherit\"\r\n              onClick={projectMenuHandleClick}>\r\n                {store.projectName || \"No project\"}\r\n                <ArrowDropDown />\r\n              </Button>\r\n          </div>}\r\n          {/* <div className={classes.search}>\r\n            <div className={classes.searchIcon}>\r\n              <SearchIcon />\r\n            </div>\r\n            <InputBase\r\n              placeholder=\"Search…\"\r\n              classes={{\r\n                root: classes.inputRoot,\r\n                input: classes.inputInput,\r\n              }}\r\n            />\r\n          </div> */}\r\n\r\n\r\n          <div className={classes.grow} />\r\n          {store.hasAuth && <div className={classes.sectionDesktop}>\r\n            {/* <IconButton color=\"inherit\">\r\n              <Badge badgeContent={4} color=\"secondary\">\r\n                <MailIcon />\r\n              </Badge>\r\n            </IconButton>\r\n            <IconButton color=\"inherit\">\r\n              <Badge badgeContent={17} color=\"secondary\">\r\n                <NotificationsIcon />\r\n              </Badge>\r\n            </IconButton> */}\r\n            <IconButton\r\n              aria-owns={isMenuOpen ? 'material-appbar' : undefined}\r\n              aria-haspopup=\"true\"\r\n              onClick={handleProfileMenuOpen}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle />\r\n            </IconButton>\r\n          </div>}\r\n          {store.hasAuth && <div className={classes.sectionMobile}>\r\n            <IconButton aria-haspopup=\"true\" onClick={handleMobileMenuOpen} color=\"inherit\">\r\n              <MoreIcon />\r\n            </IconButton>\r\n          </div>}\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        className={classes.drawer}\r\n        classes={{\r\n          paper: classes.drawer,\r\n          root: classes.drawerRoot\r\n        }}\r\n        open={isDrawerOpen}\r\n        onClose={handleDrawerClose}\r\n      >\r\n        <div />\r\n        <Divider />\r\n        <List>\r\n          \r\n          {[{title:'Project',to:'/',icon:<IconViewCol />},{title:'Settings',to:'/project/settings',icon:<IconSettings />}].map((e, i) => (\r\n            <Link key={i} className={classes.link} to={e.to} onClick={handleDrawerClose}>\r\n              <ListItem button>\r\n                <ListItemIcon>\r\n                  {e.icon}\r\n                </ListItemIcon>\r\n                <ListItemText primary={e.title} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n\r\n          {[{title:'Performance',to:'/performance',icon:<IconTimeline />}].map((e, i) => (\r\n            <Link key={i} className={classes.link} to={e.to} onClick={handleDrawerClose}>\r\n              <ListItem button>\r\n                <ListItemIcon>\r\n                  {e.icon}\r\n                </ListItemIcon>\r\n                <ListItemText primary={e.title} />\r\n              </ListItem>\r\n            </Link>\r\n          ))}\r\n\r\n        </List>\r\n      </Drawer>\r\n        \r\n      {renderMenu}\r\n      {renderMobileMenu}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Nav;\r\n","import React from 'react';\r\n\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n// import validateInput from \"\";\r\n// From https://github.com/oliviertassinari/react-swipeable-views\r\nimport SwipeableViews from 'react-swipeable-views';\r\n\r\nimport {Store} from '../components/context';\r\n\r\nimport api from '../api';\r\n\r\n\r\nconst tabStyle = {\r\n    margin: \"auto\"\r\n}\r\n\r\nconst Form = props => {\r\n    const [formIndex,setFormIndex] = React.useState(null === \"/signup\" ? 1 : 0);\r\n    const store = React.useContext(Store);\r\n\r\n    const handleChange = (value) => {\r\n        setFormIndex(value)\r\n    }\r\n\r\n    return (\r\n        <Paper zDepth={2} style={{padding:'48px 64px',boxSizing:\"border-box\",maxWidth: 450,margin: \"auto\", marginTop:\"20vh\"}}>\r\n            <SwipeableViews\r\n            index={formIndex}\r\n            onChangeIndex={handleChange}\r\n            >\r\n                <div style={tabStyle}>\r\n                \r\n                    <Login store={store} />\r\n                    <Button variant=\"flat\" style={{display:\"block\",margin:\"24px auto\"}} onClick={()=> handleChange(1)} >\r\n                        Create Account\r\n                    </Button>\r\n                    \r\n                </div>\r\n                <div style={tabStyle}>\r\n\r\n                    <Signup store={store} />\r\n                    <Button variant=\"flat\" style={{display:\"block\",margin:\"24px auto\"}} onClick={()=> handleChange(0)} >\r\n                    Back to Login\r\n                    </Button>\r\n\r\n                </div>\r\n            </SwipeableViews>\r\n        </Paper>\r\n    );\r\n}\r\n\r\nconst Login = props => {\r\n    const [email,setEmail] = React.useState('');\r\n    const [password,setPassword] = React.useState('');\r\n    const [errors,setErrors] = React.useState({});\r\n    const [isLoading,setLoading] = React.useState(false);\r\n\r\n    const validate = () =>{\r\n        const err = {};\r\n        if(!email) err.email = \"Can't be blank\";\r\n        if(!password) err.password = \"Can't be blank\";\r\n        return err;\r\n    }\r\n\r\n    const onSubmit = e =>{\r\n        e.preventDefault();\r\n        const errors = validate();\r\n        setErrors(errors);\r\n\r\n        if(Object.keys(errors).length === 0){\r\n\r\n            api.auth.login(email,password).then( res => {\r\n                props.store.setUser(res.data);\r\n            })\r\n\r\n            // this.props.login(this.state).catch((err) => {this.setState({errors: err.response ? err.response.data.errors : \"Error\", isLoading: false})});\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"login-content\">\r\n            <h3>Exec Lux Login</h3>\r\n            <p className=\"error-text\">{errors.global}</p>\r\n            <form id=\"login-form\" onSubmit={onSubmit}>\r\n\r\n                <TextField\r\n                name=\"email\"\r\n                style={{display:\"block\",margin:\"auto\"}}\r\n                label=\"Email\"\r\n                type=\"email\" \r\n                value={email}\r\n                fullWidth\r\n                errorText={errors.email}\r\n                onChange={e => setEmail(e.target.value)}\r\n                />\r\n                \r\n                <TextField\r\n                name=\"password\"\r\n                style={{display:\"block\",margin:\"auto\",marginTop:15}}\r\n                label=\"Password\"\r\n                type=\"password\" \r\n                fullWidth\r\n                value={password}\r\n                errorText={errors.password}\r\n                onChange={e => setPassword(e.target.value)}\r\n                />          \r\n                <Button variant=\"raised\" type=\"submit\" value=\"Submit\" form=\"login-form\" color=\"primary\" style={{margin:\"24px auto\",display:\"block\"}} disabled={isLoading} >\r\n                    Login\r\n                </Button>    \r\n            </form>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nconst Signup = props =>{\r\n    const [name,setName] = React.useState('');\r\n    const [email,setEmail] = React.useState('');\r\n    const [password,setPassword] = React.useState('');\r\n    const [password2,setPassword2] = React.useState('');\r\n    const [errors,setErrors] = React.useState({});\r\n    const [isLoading,setLoading] = React.useState(false);\r\n\r\n    const validate = () => {\r\n        const err = {};\r\n        if(!name) err.name = \"Can't be blank\";\r\n        if(!password) err.password = \"Can't be blank\";\r\n        if(password !== password2) err.password = \"Passwords don't match\";\r\n        return err;\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const errors = validate();\r\n        setErrors(errors);\r\n\r\n        if(Object.keys(errors).length === 0){\r\n            api.auth.signup(name,email,password).then( res => {\r\n                props.store.setUser(res.data);\r\n            })\r\n        }\r\n    }\r\n    \r\n\r\n    return (\r\n\r\n        <div className=\"login-content\">\r\n            <h3>Create account</h3>\r\n            <p className=\"error-text\">{errors.global}</p>\r\n            <form id=\"create-form\" onSubmit={onSubmit}>\r\n\r\n            <TextField\r\n            name=\"name\"\r\n            style={{display:\"block\",margin:\"auto\"}}\r\n            label=\"Name\"\r\n            value={name}\r\n            fullWidth\r\n            error={errors.name}\r\n            onChange={e=>setName(e.target.value)}\r\n            />\r\n\r\n            <TextField\r\n            name=\"email\"\r\n            style={{display:\"block\",margin:\"auto\", marginTop:15}}\r\n            label=\"Email\"\r\n            type=\"email\"\r\n            value={email}\r\n            fullWidth\r\n            error={errors.email}\r\n            onChange={e=>setEmail(e.target.value)}\r\n            />\r\n            \r\n            <TextField\r\n            name=\"password\"\r\n            style={{display:\"block\",margin:\"auto\", marginTop:15}}\r\n            label=\"Password\"\r\n            type=\"password\" \r\n            value={password}\r\n            fullWidth\r\n            error={errors.password}\r\n            onChange={e=>setPassword(e.target.value)}\r\n            />      \r\n\r\n            <TextField\r\n            name=\"secpassword\"\r\n            style={{display:\"block\",margin:\"auto\", marginTop:15}}\r\n            label=\"Confirm Password\"\r\n            fullWidth\r\n            type=\"password\" \r\n            value={password2}\r\n            error={errors.password}\r\n            onChange={e=>setPassword2(e.target.value)}\r\n            />           \r\n\r\n            <Button variant=\"raised\" type=\"submit\" form=\"create-form\" color=\"primary\" style={{margin:\"24px auto\",display:\"block\"}} disabled={isLoading} > \r\n            Create account\r\n            </Button>   \r\n            </form>\r\n        </div>\r\n\r\n    );\r\n}\r\n\r\nexport default Form;\r\n\r\n\r\n// Login.prototype = {\r\n//     login: React.prototype.func.isRequired\r\n// }\r\n\r\n// Login.contextTypes={\r\n//     router:React.prototype.object.isRequired\r\n// }","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Store} from '../context';\r\nimport crypto from 'crypto';\r\nimport api from '../../api';\r\n\r\nconst keySalt = \"83zpN8nxTXGRWZ6r\";\r\n\r\nfunction FormDialog(props) {\r\n    const store = React.useContext(Store);\r\n    const [error,setError] = React.useState(undefined);\r\n    const [input,setInput] = React.useState('');\r\n    const [input2,setInput2] = React.useState('');\r\n    \r\n    function handleClose() {\r\n        store.setDialog();\r\n    }\r\n\r\n    const submit = e => {\r\n        e.preventDefault();\r\n        if(input !== input2){\r\n            return setError(\"Don't match!\");\r\n        }\r\n        const {projectId} = store;\r\n        const hash = crypto.createHash('sha256').update(keySalt+input).digest('hex');\r\n        api.project.setEncryption(hash,projectId).then(res => {\r\n            const cipher = res.data;\r\n            console.log(cipher);\r\n            handleClose();\r\n        });\r\n    }\r\n  \r\n    return (\r\n    <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={handleClose}>\r\n        <form onSubmit={submit}>\r\n            <DialogTitle>Active encryption</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    Enter a encryption phrase to active project encryption.\r\n                </DialogContentText>\r\n                <TextField\r\n                    autoFocus\r\n                    margin=\"dense\"\r\n                    label=\"Phrase\"\r\n                    value={input}\r\n                    onChange={e => setInput(e.target.value)}\r\n                    type=\"password\"\r\n                    error={!!error}\r\n                    helperText={error}\r\n                    fullWidth\r\n                />\r\n                <TextField\r\n                    margin=\"dense\"\r\n                    label=\"Confirm phrase\"\r\n                    value={input2}\r\n                    onChange={e => setInput2(e.target.value)}\r\n                    type=\"password\"\r\n                    error={!!error}\r\n                    fullWidth\r\n                />\r\n                </DialogContent>\r\n            <DialogActions>\r\n            <Button onClick={handleClose} color=\"primary\">\r\n                Cancel\r\n            </Button>\r\n                <Button onClick={submit} variant=\"contained\" color=\"primary\">\r\n                    Active encryption\r\n                </Button>\r\n            </DialogActions>\r\n        </form>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport {Store} from '../components/context';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport EncryptionDialog from '../components/dialogs/encryptionDialog';\r\n\r\nimport api from '../api';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport Loading from '../components/loading';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root:{\r\n        height: 'calc(100vh - '+theme.mixins.toolbar.minHeight+'px)',\r\n        padding: '16px 0',\r\n        boxSizing: 'border-box',\r\n        maxWidth: (theme.props.sizing * 2),\r\n        margin:'auto'\r\n    },\r\n    paper:{\r\n        padding:32,\r\n        marginBottom:16\r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent:'space-between',\r\n        alignItems:'baseline',\r\n        padding:'16px 0'        \r\n    }\r\n}));\r\n\r\nconst Row = ({classes, text,children}) => (\r\n    <div className={classes.row}>\r\n        <Typography variant=\"subtitle1\">{text}</Typography>\r\n        {children}\r\n    </div>\r\n)\r\n\r\nconst App = props => {\r\n    const classes = useStyles();\r\n    const store = React.useContext(Store);\r\n    const [data,setData] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        api.project.fetchSettings(store.projectId).then(res => {\r\n            const {data} = res;\r\n            setData(data);\r\n            store.set({projectName:data.name});\r\n        })\r\n    },[store.projectId]);\r\n\r\n    if(!data){\r\n        return <Loading fill />\r\n    }\r\n\r\n    const OpenActiveEncryption = _ => {\r\n        store.setDialog(EncryptionDialog);\r\n    }\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n            <Paper className={classes.paper}>\r\n                <Typography variant=\"h6\">{data.name}</Typography>\r\n                <Typography>Created {new Date(data.created).toISOString().substring(0, 10)}</Typography>\r\n            </Paper>\r\n            <Paper className={classes.paper}>\r\n                <Typography variant=\"h6\">Encryption</Typography>\r\n                <Typography>Status: {data.cipher ? 'Encrypted' : 'No encryption'}</Typography>\r\n                <Row classes={classes} text=\"Active encryption\">\r\n                    <Button variant=\"contained\" color=\"primary\" onClick={OpenActiveEncryption}>Active</Button>\r\n                </Row>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport {Store} from '../components/context';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Select from '@material-ui/core/Select';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport moment from 'moment';\r\n\r\nimport {Bar} from 'react-chartjs-2';\r\n\r\nimport api from '../api';\r\nimport { Typography, Button } from '@material-ui/core';\r\nimport Loading from '../components/loading';\r\n\r\nconst colors = ['4363d8','3cb44b','f58231','911eb4','ffe119','000075','008080','bcf60c'];\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root:{\r\n        height: 'calc(100vh - '+theme.mixins.toolbar.minHeight+'px)',\r\n        padding: '16px 0',\r\n        boxSizing: 'border-box',\r\n        maxWidth: (theme.props.sizing * 3),\r\n        margin:'auto'\r\n    },\r\n    paper:{\r\n        padding:32,\r\n        marginBottom:16\r\n    },\r\n    row:{\r\n        display:'flex',\r\n        justifyContent:'space-between',\r\n        alignItems:'baseline',\r\n        padding:'16px 0'        \r\n    },\r\n    highlightContent:{\r\n        display:\"flex\",\r\n        justifyContent:'space-around',\r\n        padding:16\r\n    },\r\n    highlight:{\r\n        'div&':{\r\n            background:theme.palette.primary.main,\r\n            color:\"#fff\",\r\n            padding:'12px 32px'\r\n        },\r\n        '& h3':{\r\n            fontSize:'1.35em',\r\n            margin:'.4em 0'\r\n        },\r\n        '& h4':{\r\n            fontWeight:500,\r\n            fontSize:'1em',\r\n            margin:'.4em 0'\r\n        }\r\n    },\r\n    chartPaper:{\r\n        marginBottom:16,\r\n        padding: '8px 16px',\r\n        position:'relative'\r\n    },\r\n    chartSelect:{\r\n        'div&':{\r\n            position:'absolute',\r\n            left:64,\r\n            top:32\r\n        }\r\n    }\r\n}));\r\n\r\nconst TotalChartStyles = {\r\n    backgroundColor: `#00000000`,\r\n    borderColor: `#4363d8bb`,\r\n    hoverBackgroundColor: `#00000000`,\r\n    hoverBorderColor: `#4363d888`,\r\n    borderWidth: 2,\r\n}\r\n\r\nconst CreateChartColors = color => {\r\n    return{\r\n        backgroundColor: `#${color}aa`,\r\n        borderColor: `#${color}bb`,\r\n        hoverBackgroundColor: `#${color}dd`,\r\n        hoverBorderColor: `#${color}ff`,\r\n    }\r\n}\r\n  \r\nconst options = labels => {return{\r\n    responsive: true,\r\n    tooltips: {\r\n      mode: 'label'\r\n    },\r\n    elements: {\r\n      line: {\r\n        fill: false\r\n      }\r\n    },\r\n    scales: {\r\n      xAxes: [\r\n        {\r\n            labels,\r\n            display: true,\r\n            gridLines: {\r\n                display: false\r\n            },\r\n        }\r\n      ],\r\n      yAxes: [\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'left',\r\n          id: 'y-axis-bar',\r\n          gridLines: {\r\n            display: false\r\n          },\r\n          labels: {\r\n            show: true\r\n          }\r\n        },\r\n        {\r\n          type: 'linear',\r\n          display: true,\r\n          position: 'right',\r\n          id: 'y-axis-line',\r\n          gridLines: {\r\n            display: false\r\n          },\r\n          labels: {\r\n            show: true\r\n          }\r\n        }\r\n      ]\r\n    }\r\n}};\r\n\r\nconst App = props => {\r\n    const classes = useStyles();\r\n    const store = React.useContext(Store);\r\n    const [data,setData] = React.useState(null);\r\n    const [timespan,setTimespan] = React.useState(30);\r\n    const [chart,setChart] = React.useState(null);\r\n\r\n    React.useEffect(() => {\r\n        const end = new Date().getTime();\r\n        const start =  end - 864e5 * timespan;\r\n        api.user.performance(start,end).then(res => {\r\n\r\n            let {projects,times} = res.data;\r\n            let totalTime = 0;\r\n\r\n            let charts = [{_id:\"__TotalTime__\",name:\"Total\"},...projects].reduce((obj,e,i)=> {\r\n                obj[e._id]={\r\n                    ...CreateChartColors(colors[(i - 1) % colors.length]),\r\n                    label:e.name,\r\n                    type: 'bar',\r\n                    data: new Array(timespan).fill(0),\r\n                    fill: false,\r\n\r\n                    yAxisID: 'y-axis-bar'\r\n                }\r\n                return obj\r\n            },{});\r\n\r\n            charts['__TotalTime__'] = {\r\n                ...charts['__TotalTime__'],\r\n                ...TotalChartStyles\r\n            }\r\n\r\n            let chartLine = {\r\n                label:'This period',\r\n                type:'line',\r\n                data: new Array(timespan).fill(0),\r\n                fill: false,\r\n                borderColor: '#3f51b5aa',\r\n                pointBorderColor: '#3f51b588',\r\n                pointBackgroundColor: '#3f51b588',\r\n                pointHoverBackgroundColor: '#3f51b5cc',\r\n                pointHoverBorderColor: '#3f51b5cc',\r\n                yAxisID: 'y-axis-line'\r\n            }\r\n\r\n            const now = new Date();\r\n            const date = new Date(now.getFullYear(),now.getMonth(),now.getDate()+1).getTime();\r\n            const daysFromNow = d => Math.floor((date - d.getTime()) / 864e5);\r\n\r\n            times = times.map(e => {\r\n                const start = new Date(e.start);\r\n                const end = e.end ? new Date(e.end) : now;\r\n                const length = end.getTime() - start.getTime();\r\n                totalTime += length;\r\n\r\n                const index = (timespan - 1) - daysFromNow(start);\r\n                charts[e.projectId].data[index] += length;\r\n                chartLine.data[index] += length;\r\n                \r\n                return{\r\n                    ...e,\r\n                    start,\r\n                    end,\r\n                    length\r\n                }\r\n            });\r\n\r\n            const maxDay = chartLine.data.reduce((a,b)=> Math.max(a,b));\r\n\r\n            const msFormat = ms => {\r\n                const h = Math.floor(ms / 36e5);\r\n                const m = Math.round((ms % 36e5) / 6e4);\r\n                return `${h}:${m < 10 ? '0'+m : m}`;\r\n            };\r\n            const avg = msFormat(totalTime / timespan);\r\n            const timeUse = msFormat(totalTime);\r\n            const mostTime = msFormat(maxDay);\r\n\r\n            setData({timeUse,mostTime,count:times.length,avg});\r\n\r\n            const labels = [];\r\n            for(let i = timespan;i-->0;){\r\n                const formatedDate = moment().subtract(i,'days').format('MM-DD');\r\n                labels.push(formatedDate);\r\n            }\r\n\r\n            const msChartFormat = ms => ms ? Math.round(ms / 6e4) : 0;\r\n\r\n            for (let i = 0; i < chartLine.data.length; i++) {\r\n                const val = msChartFormat(chartLine.data[i]);\r\n                charts[\"__TotalTime__\"].data[i] = chartLine.data[i];\r\n                chartLine.data[i] = i ? chartLine.data[i - 1] + val : val;\r\n            }\r\n\r\n\r\n            const datasets = {\r\n                datasets: [\r\n                    chartLine,\r\n                    ...Object.values(charts).map(e => {\r\n                        return{\r\n                            ...e,\r\n                            data: e.data.map(msChartFormat)\r\n                        }\r\n                    })\r\n                ]\r\n            }\r\n\r\n            setChart({datasets,labels});\r\n        })\r\n    },[timespan]);\r\n\r\n\r\n    // if(!data){\r\n    //     return(\r\n    //         <div>\r\n    //             <h3>loading</h3>\r\n    //         </div>\r\n    //     )\r\n    // }\r\n\r\n    if(!data || !chart) return <Loading fill />;\r\n\r\n    return(\r\n        <div className={classes.root}>\r\n            {/* <Paper className={classes.paper}>\r\n                <Typography variant=\"h6\">{data.name}</Typography>\r\n                <Typography>Account created {new Date(data.created).toISOString().substring(0, 10)}</Typography>\r\n            </Paper> */}\r\n            <Paper className={classes.chartPaper}>\r\n                <Select\r\n                    className={classes.chartSelect}\r\n                    value={timespan}\r\n                    onChange={e=>setTimespan(e.target.value)}\r\n                >\r\n                    <MenuItem value={14}>14 Days</MenuItem>\r\n                    <MenuItem value={30}>Month</MenuItem>\r\n                    <MenuItem value={90}>3 Month</MenuItem>\r\n                    <MenuItem value={180}>6 Month</MenuItem>\r\n                    <MenuItem value={360}>Year</MenuItem>\r\n                    {/* <MenuItem value={288e3}>Lifetime</MenuItem> */}\r\n                </Select>\r\n                <Bar\r\n                    data={chart.datasets}\r\n                    options={options(chart.labels)}\r\n                    />\r\n            </Paper>\r\n            <Paper className={classes.highlightContent}>\r\n                <Paper className={classes.highlight}>\r\n                    <h4>Time used</h4>\r\n                    <h3>{data.timeUse} hours</h3>\r\n                </Paper>\r\n                <Paper className={classes.highlight}>\r\n                    <h4>Sessions</h4>\r\n                    <h3>{data.count}</h3>\r\n                </Paper>\r\n                <Paper className={classes.highlight}>\r\n                    <h4>Avg. time per day</h4>\r\n                    <h3>{data.avg} hours</h3>\r\n                </Paper>\r\n                <Paper className={classes.highlight}>\r\n                    <h4>Most time in a day</h4>\r\n                    <h3>{data.mostTime} hours</h3>\r\n                </Paper>\r\n            </Paper>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport {Store} from '../components/context';\r\nimport { makeStyles } from '@material-ui/styles';\r\nimport { Paper, Typography, TextField } from '@material-ui/core';\r\nimport { Button } from '@material-ui/core';\r\nimport api from '../api';\r\nimport Loading from '../components/loading';\r\nimport { getSavedKeys } from '../components/encryption';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root:{\r\n    height: 'calc(100vh - '+theme.mixins.toolbar.minHeight+'px)',\r\n    padding: '16px 0',\r\n    boxSizing: 'border-box',\r\n    maxWidth: (theme.props.sizing * 2),\r\n    margin:'auto'\r\n  },\r\n  paper:{\r\n    padding:32,\r\n    marginBottom:16\r\n  },\r\n  row:{\r\n    display:'flex',\r\n    justifyContent:'space-between',\r\n    alignItems:'baseline',\r\n    padding:'16px 0'        \r\n  },\r\n  textField:{\r\n    maxWidth:220,\r\n    margin:'8px 0'\r\n  },\r\n  spaceBetween:{\r\n    display: 'flex',\r\n    justifyContent: 'space-between',\r\n    margin:'12px 0'\r\n  }\r\n}));\r\n\r\nconst Row = ({classes, text, children}) => (\r\n  <div className={classes.row}>\r\n      <div>\r\n        {/* <Typography variant=\"h6\">{title}</Typography> */}\r\n        <Typography variant=\"subtitle1\">{text}</Typography>\r\n      </div>\r\n      {children}\r\n  </div>\r\n)\r\n\r\nconst Account = props => {\r\n  const classes = useStyles();\r\n\r\n  const store = React.useContext(Store);\r\n\r\n  const [userData,setUserData] = React.useState(null);\r\n  const [, forceUpdate] = React.useState();\r\n\r\n  React.useEffect(() => {\r\n    api.user.fetch().then(res => {\r\n      setUserData(res.data);\r\n    })\r\n  }, []);\r\n\r\n\r\n  if(!userData){\r\n    return(\r\n      <Loading fill/>\r\n    )\r\n  }\r\n\r\n  const DeleteKeys = _ => {\r\n    localStorage.removeItem('exec_save');\r\n    forceUpdate(new Date().getTime());\r\n  }\r\n\r\n  const keyCount = Object.keys(getSavedKeys()).length;\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\">Account</Typography>\r\n        <Typography variant=\"h6\">{userData.name} - {userData.email}</Typography>\r\n      </Paper>\r\n\r\n      <ChangePassword classes={classes} />\r\n\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\">Encryption keys</Typography>\r\n        <Row classes={classes} text={`Delete saved encryption keys`}>\r\n          <Button variant=\"contained\" color=\"secondary\" onClick={DeleteKeys}>Delete {keyCount} {keyCount !== 1 ? 'keys' : ' key'}</Button>\r\n        </Row>\r\n      </Paper>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nconst ChangePassword = props => {\r\n\r\n  const {classes} = props;\r\n  const [isLoading,setIsLoading] = React.useState(false);\r\n  const [wasSuccessful,setSuccessful] = React.useState();\r\n  const [error,setError] = React.useState();\r\n  const [oldPassword,setOldPassword] = React.useState('');\r\n  const [newPassword,setNewPassword] = React.useState('');\r\n  const [newPassword2,setNewPassword2] = React.useState('');\r\n\r\n  const onChange = (e,set) => {\r\n    if(error) setError();\r\n    if(wasSuccessful) setSuccessful(false);\r\n    set(e.target.value);\r\n  }\r\n\r\n  const onSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    setSuccessful(false);\r\n    \r\n    if(!oldPassword.length || !newPassword.length || !newPassword2.length){\r\n      \r\n      return setError('Missing field!')\r\n    }\r\n\r\n    if(newPassword !== newPassword2){\r\n      \r\n      return setError('New password do not match!');\r\n    }\r\n    \r\n    setError('')\r\n    setIsLoading(true);\r\n\r\n    api.auth.changePassword(oldPassword, newPassword).then(res => {\r\n      setSuccessful(true);\r\n    }).catch(err => {\r\n\r\n      if(err.response.status === 400) {\r\n        setOldPassword('');\r\n        return setError('Password incorrect!');\r\n      }\r\n      \r\n      setError('An error occurred!');\r\n    }).finally(_=>{\r\n      setIsLoading(false);\r\n    })\r\n  }\r\n\r\n  return (\r\n    <Paper className={classes.paper}>\r\n        <Typography variant=\"h6\">Change Password</Typography>\r\n        <form onSubmit={onSubmit}>\r\n          <div className={classes.spaceBetween}>\r\n\r\n            <TextField\r\n              // name=\"old\"\r\n              classes={{root:classes.textField}}\r\n              className={classes.textField}\r\n              label=\"Old Password\"\r\n              type=\"password\" \r\n              value={oldPassword}\r\n              fullWidth\r\n              error={!!error}\r\n              disabled={isLoading}\r\n              onChange={e => onChange(e,setOldPassword)}\r\n              />\r\n            <TextField\r\n              // name=\"old\"\r\n              className={classes.textField}\r\n              label=\"New Password\"\r\n              type=\"password\" \r\n              value={newPassword}\r\n              fullWidth\r\n              error={!!error}\r\n              disabled={isLoading}\r\n              onChange={e => onChange(e,setNewPassword)}\r\n              />\r\n            <TextField\r\n              // name=\"old\"\r\n              className={classes.textField}\r\n              label=\"New Password Again\"\r\n              type=\"password\" \r\n              value={newPassword2}\r\n              fullWidth\r\n              error={!!error}\r\n              disabled={isLoading}\r\n              onChange={e => onChange(e,setNewPassword2)}\r\n              />\r\n            </div>\r\n          <Typography color='error' gutterBottom>{error}</Typography>\r\n          {wasSuccessful && <Typography variant='body1' color='primary' gutterBottom>Success!</Typography>}\r\n\r\n          {isLoading && <Loading short />}\r\n          {!isLoading && <Button type=\"submit\" variant=\"contained\" color=\"primary\" onClick={onSubmit} >Change Password</Button>}\r\n        </form>\r\n      </Paper>\r\n  )\r\n}\r\n\r\nexport default Account;","import React from 'react';\n\nimport { createMuiTheme } from '@material-ui/core/styles';\nimport { ThemeProvider  } from '@material-ui/styles';\nimport { BrowserRouter as Router, Route, Switch, Redirect} from \"react-router-dom\";\n\n\nimport Nav from './components/nav';\nimport Project from './routes/project';\nimport Login from './routes/login';\nimport ProjectSettings from './routes/projectSettings';\nimport performance from './routes/timeOverview';\nimport guid from './components/guid';\nimport Account from './routes/account';\n// import {Store} from '../components/context';\n\nimport { Provider, Store } from './components/context';\n\nconst theme = createMuiTheme({\n  typography: {\n    useNextVariants: true,\n  },\n  props:{\n    sizing: 400\n  }\n});\n\nconst App = props => {\n  const {location} = props;\n  \n  return(\n    <Provider>\n      <Router>\n        <ThemeProvider theme={theme}>\n        \n          <Dialog />\n          <Nav />\n\n          <Switch>\n\n            <Route exact location={location} path='/' component={Project} />\n            <PrivateRoute location={location} path='/project/settings' component={ProjectSettings} />\n            <PrivateRoute location={location} path='/performance' component={performance} />\n            <PrivateRoute location={location} path='/account' component={Account} />\n            \n            <PublicRoute location={location} path='/login' component={Login} />\n\n          </Switch>\n\n        </ThemeProvider>\n      </Router>\n    </Provider>\n  )\n}\n\nconst Dialog = props => {\n  const store = React.useContext(Store);\n  if(!(store && store.dialog && store.dialog.Component)) return null;\n  return <store.dialog.Component {...store.dialog.props} close={_=>store.setDialog()} />;\n}\n\n\n\nexport default App;\n\nconst PrivateRoute = ({ component : Component, ...rest }) => {\n  const store = React.useContext(Store);\n\n  const isAuthenticated = store.hasAuth;\n  \n  return  <Route\n    {...rest}\n    render = {props =>\n      isAuthenticated ? <Component props={props} /> : <Redirect to='/' />}\n    />\n}\n\nconst PublicRoute = ({ component : Component, ...rest }) => {\n  const store = React.useContext(Store);\n\n  const isAuthenticated = store.hasAuth;\n  \n  return  <Route\n    {...rest}\n    render = {props =>\n      !isAuthenticated ? <Component props={props} /> : <Redirect to='/' />}\n    />\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","export default theme => ({\r\n    topBtnContent:{\r\n\r\n        display: 'flex',\r\n        justifyContent: 'space-evenly',\r\n        margin: '8px 0',\r\n\r\n        '& button':{\r\n            paddingRight: theme.spacing.unit * 2\r\n        }\r\n    },\r\n    infoHeader:{\r\n        margin: '32px 0',\r\n        textAlign:'center',\r\n        lineHeight:4,\r\n    \r\n        '& button':{\r\n            paddingRight: theme.spacing.unit * 2\r\n        }\r\n    }\r\n})","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport {Store} from '../context';\r\n\r\nfunction FormDialog(props) {\r\n    function handleClose() {\r\n        props.onClose();\r\n    }\r\n\r\n    const confirm = e => {\r\n        e.preventDefault();\r\n        props.onConfirm();\r\n        // handleClose();\r\n    }\r\n  \r\n    return (\r\n    <Dialog fullWidth={true} maxWidth='sm' open={true} onClose={handleClose}>\r\n        <form onSubmit={confirm}>\r\n            <DialogTitle>{props.title}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText>\r\n                    {props.text}\r\n                </DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancel\r\n                </Button>\r\n                <Button onClick={confirm} variant=\"contained\" color=\"primary\">\r\n                    {props.submitText}\r\n                </Button>\r\n            </DialogActions>\r\n        </form>\r\n    </Dialog>\r\n    );\r\n  }\r\n  \r\n  export default FormDialog;","import moment from 'moment';\r\n\r\nexport const FormatTime = (start,end, total) => {\r\n  const s_d = new Date(start)\r\n  , s_e = end ? new Date(end) : new Date();\r\n  const s = moment(s_d)\r\n  , e = moment(s_e)\r\n  \r\n  const startFormat = new Date(s_d).getFullYear() === new Date().getFullYear() ? 'MMM D H:mm' : 'MMM D YY H:mm';\r\n  const text = `${s.format(startFormat)} - ${end ? e.format('H:mm') : 'now'}`;\r\n\r\n  if(!total) total = s_e.getTime() - s_d.getTime();\r\n  const dur = moment.duration(total,'ms');\r\n  const time = `${dur.humanize()}`;\r\n  return {text,time};\r\n}\r\n\r\nexport const FormatTimeStacked = (start, end, total) => {\r\n  const s_d = new Date(start)\r\n  , s_e = end ? new Date(end) : new Date();\r\n  const s = moment(s_d)\r\n  , e = moment(s_e)\r\n\r\n  const format = new Date(s_d).getFullYear() === new Date().getFullYear() ? 'MMM D' : 'MMM D YY';\r\n  const text = `${s.format(format)} - ${end ? e.format(format) : 'now'}`;\r\n\r\n  const dur = moment.duration(total,'ms');\r\n  const time = `${dur.humanize()}`;\r\n\r\n  return {text,time};\r\n}"],"sourceRoot":""}